import{Q as x,a as i,b as V}from"./position-engine.a34c8035.js";import{Q as _}from"./QSelect.3b931d71.js";import{u as $}from"./use-quasar.0c941a1e.js";import{api as w}from"./axios.c53f7cff.js";import{n as A}from"./myFuncts.80e53bd5.js";import{r as v,i as s,s as B,v as C,X as a,f as l,Z as m,_ as c,a1 as L,a6 as N,$ as d,ba as P}from"./index.5175d5c0.js";const D={__name:"ServerGroupSelect",props:{groupId:Number},emits:["onSelect","onSave"],setup(f,{expose:S,emit:u}){const r=v(f.groupId),I=$(),b=String("https://api.aa.dllib.ru/"),g=s("curAccount"),n=v("Input"),p=s("progress"),y=s("ServerGroupList"),Q=s("selectOptionsStyle");S({saveServerGroup:G});function G(){p.value=!0,w.post(b+"api/set/server.php",{params:{serverGroupId:r.value}}).then(o=>{var e;if(!((e=o==null?void 0:o.data)!=null&&e.result))throw new Error;g.value.settings.serverGroupId=r.value,u("onSave")}).catch(o=>{I.notify(A(o))}).finally(()=>{p.value=!1})}return(o,e)=>(B(),C(_,{modelValue:r.value,"onUpdate:modelValue":[e[0]||(e[0]=t=>r.value=t),e[3]||(e[3]=t=>u("onSelect",r.value))],options:d(y),borderless:"","option-value":"id","popup-content-style":d(Q),onFocus:e[1]||(e[1]=t=>n.value="Input InputActive"),onBlur:e[2]||(e[2]=t=>n.value="Input"),class:P(n.value),label:"\u0421\u0435\u0440\u0432\u0435\u0440","map-options":"","emit-value":""},{option:a(t=>[l(V,L(N(t.itemProps)),{default:a(()=>[l(x,null,{default:a(()=>[l(i,null,{default:a(()=>[m("\u0413\u0440\u0443\u043F\u043F\u0430 "+c(t.opt.id),1)]),_:2},1024),l(i,{caption:""},{default:a(()=>[m(c(t.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","popup-content-style","class"]))}};export{D as _};
