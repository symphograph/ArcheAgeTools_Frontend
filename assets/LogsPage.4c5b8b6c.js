import{Q as D}from"./QList.b9894bb9.js";import{api as N}from"./axios.c040a620.js";import{u as z}from"./use-meta.d65e4da6.js";import{u as F}from"./use-quasar.5324f940.js";import{n as G}from"./myFuncts.bc1bbbc0.js";import{b as x,Q as B,a as d}from"./position-engine.a753418a.js";import{H as L,c as y,h as g,I as A,bw as I,an as U,r as _,b7 as W,bx as X,w as Q,o as p,a3 as Z,ae as q,g as J,aP as K,s as w,v,X as o,b9 as Y,f as r,t as V,a4 as H,Z as c,_ as f,F as P,ba as ee,av as te,l as ae}from"./index.ef28cfcc.js";import{Q as ne}from"./QMenu.f41bcb0a.js";import"./jwt-decode.esm.81f958e7.js";import"./selection.e0a85ebc.js";var oe=L({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:i}){const u=y(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(n=>e[n]===!0).map(n=>`q-btn-group--${n}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>g("div",{class:u.value},A(i.default))}});const le=Object.keys(I),re=e=>le.reduce((i,u)=>{const t=e[u];return t!==void 0&&(i[u]=t),i},{});var ue=L({name:"QBtnDropdown",props:{...I,...U,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:i,emit:u}){const{proxy:t}=J(),n=_(e.modelValue),l=_(null),s=W(),b=y(()=>{const a={"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s,"aria-label":e.toggleAriaLabel||t.$q.lang.label[n.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(a["aria-disabled"]="true"),a}),h=y(()=>"q-btn-dropdown__arrow"+(n.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),m=y(()=>X(e)),C=y(()=>re(e));Q(()=>e.modelValue,a=>{l.value!==null&&l.value[a?"show":"hide"]()}),Q(()=>e.split,S);function M(a){n.value=!0,u("beforeShow",a)}function j(a){u("show",a),u("update:modelValue",!0)}function O(a){n.value=!1,u("beforeHide",a)}function R(a){u("hide",a),u("update:modelValue",!1)}function $(a){u("click",a)}function T(a){K(a),S(),u("click",a)}function E(a){l.value!==null&&l.value.toggle(a)}function k(a){l.value!==null&&l.value.show(a)}function S(a){l.value!==null&&l.value.hide(a)}return Object.assign(t,{show:k,hide:S,toggle:E}),p(()=>{e.modelValue===!0&&k()}),()=>{const a=[g(Z,{class:h.value,name:e.dropdownIcon||t.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&a.push(g(ne,{ref:l,id:s,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:M,onShow:j,onBeforeHide:O,onHide:R},i.default)),e.split===!1?g(q,{class:"q-btn-dropdown q-btn-dropdown--simple",...C.value,...b.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:$},{default:()=>A(i.label,[]).concat(a),loading:i.loading}):g(oe,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...m.value,glossy:e.glossy,stretch:e.stretch},()=>[g(q,{class:"q-btn-dropdown--current",...C.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:T},{default:i.label,loading:i.loading}),g(q,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...b.value,...m.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>a)])}}});const ie={__name:"LogTrace",props:{trace:_([])},setup(e){return(i,u)=>(w(),v(Y,{dark:""},{default:o(()=>[r(ee,{class:"traceCard"},{default:o(()=>[r(D,{dark:"",dense:"",separator:"",class:"traceList"},{default:o(()=>[(w(!0),V(P,null,H(e.trace,(t,n)=>(w(),v(x,{key:n,dense:"",dark:""},{default:o(()=>[r(B,null,{default:o(()=>[r(d,{class:"path"},{default:o(()=>[c(f(t.file+":"+(t!=null&&t.line?t==null?void 0:t.line:"")),1)]),_:2},1024),r(d,null,{default:o(()=>[c(f("function: "+t.function),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))}};var se=te(ie,[["__scopeId","data-v-6f3f15c5"]]);const de={__name:"LogRow",props:{row:_({})},setup(e){return _(!1),(i,u)=>(w(),v(x,null,{default:o(()=>[r(B,{avatar:"",top:""},{default:o(()=>[r(d,{caption:""},{default:o(()=>[c(f(e.row.datetime),1)]),_:1}),r(d,{class:"type"},{default:o(()=>[c(f(e.row.type),1)]),_:1})]),_:1}),r(B,{top:""},{default:o(()=>{var t,n;return[r(d,{class:"msg"},{default:o(()=>[c(f(e.row.msg),1)]),_:1}),r(d,{class:"path"},{default:o(()=>[c(f(e.row.script),1)]),_:1}),r(d,{class:"path"},{default:o(()=>{var l;return[c(f((l=e.row)!=null&&l.file?e.row.file+"("+e.row.line+")":""),1)]}),_:1}),(n=(t=e.row)==null?void 0:t.trace)!=null&&n.length?(w(),v(ue,{key:0,label:"trace"},{default:o(()=>[r(se,{trace:e.row.trace},null,8,["trace"])]),_:1})):ae("",!0)]}),_:1}),r(B,{top:""},{default:o(()=>[r(d,{caption:""},{default:o(()=>{var t,n,l;return[c(f((l=(n=(t=e.row)==null?void 0:t.agent)==null?void 0:n.platform)!=null?l:""),1)]}),_:1}),r(d,{caption:""},{default:o(()=>{var t,n,l;return[c(f((l=(n=(t=e.row)==null?void 0:t.agent)==null?void 0:n.browser)!=null?l:""),1)]}),_:1}),r(d,{caption:""},{default:o(()=>{var t,n;return[c(f((n=(t=e.row)==null?void 0:t.ip)!=null?n:""),1)]}),_:1})]),_:1}),r(B)]),_:1}))}},ye={__name:"LogsPage",setup(e){const i=F(),u=String("https://api.dllib.ru/"),t=_([]);p(()=>{console.log("jh"),l()}),z({title:"\u041B\u043E\u0433\u0438"});function l(){N.post(u+"test/logs.php",{params:{}}).then(s=>{var b,h,m;if(!((b=s==null?void 0:s.data)!=null&&b.result))throw new Error;t.value=(m=(h=s==null?void 0:s.data)==null?void 0:h.data)!=null?m:[]}).catch(s=>{i.notify(G(s))})}return(s,b)=>(w(),v(D,{dark:"",separator:""},{default:o(()=>[(w(!0),V(P,null,H(t.value,(h,m)=>(w(),v(de,{key:m,row:h},null,8,["row"]))),128))]),_:1}))}};export{ye as default};
