import{I as ne,K as ie,ao as b,ap as se,M as le,r as i,c as h,ag as re,O as ce,aq as ue,Q as de,ar as fe,w as O,S as C,as as E,at as H,au as ge,h as M,av as me,g as ve,J as he,ac as pe,t as A,v as ye,x as Te,Y as be,l as Se,a6 as S,$ as we,aw as q,ax as _e}from"./index.312bfc2c.js";import{u as xe,v as B,c as Pe,p as D,d as Ie,e as ke,r as L,s as Oe,f as Ce}from"./position-engine.7a2cb73f.js";import{c as z}from"./selection.bedc1144.js";var Ee=ne({name:"QTooltip",inheritAttrs:!1,props:{...xe,...ie,...b,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...b.transitionShow,default:"jump-down"},transitionHide:{...b.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:B},self:{type:String,default:"top middle",validator:B},offset:{type:Array,default:()=>[14,14],validator:Pe},scrollTarget:se,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...le],setup(e,{slots:p,emit:a,attrs:c}){let s,l;const g=ve(),{proxy:{$q:o}}=g,u=i(null),m=i(!1),j=h(()=>D(e.anchor,o.lang.rtl)),N=h(()=>D(e.self,o.lang.rtl)),Q=h(()=>e.persistent!==!0),{registerTick:U,removeTick:V}=re(),{registerTimeout:v}=ce(),{transitionProps:W,transitionStyle:R}=ue(e),{localScrollTarget:w,changeScrollEvent:$,unconfigureScrollTarget:G}=Ie(e,I),{anchorEl:n,canShow:J,anchorEvents:d}=ke({showing:m,configureAnchorEl:te}),{show:K,hide:y}=de({showing:m,canShow:J,handleShow:F,handleHide:X,hideOnRouteChange:Q,processOnMount:!0});Object.assign(d,{delayShow:Z,delayHide:ee});const{showPortal:_,hidePortal:x,renderPortal:Y}=fe(g,u,oe,"tooltip");if(o.platform.is.mobile===!0){const t={anchorEl:n,innerRef:u,onClickOutside(r){return y(r),r.target.classList.contains("q-dialog__backdrop")&&pe(r),!0}},T=h(()=>e.modelValue===null&&e.persistent!==!0&&m.value===!0);O(T,r=>{(r===!0?Ce:L)(t)}),C(()=>{L(t)})}function F(t){_(),U(()=>{l=new MutationObserver(()=>f()),l.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),f(),I()}),s===void 0&&(s=O(()=>o.screen.width+"|"+o.screen.height+"|"+e.self+"|"+e.anchor+"|"+o.lang.rtl,f)),v(()=>{_(!0),a("show",t)},e.transitionDuration)}function X(t){V(),x(),P(),v(()=>{x(!0),a("hide",t)},e.transitionDuration)}function P(){l!==void 0&&(l.disconnect(),l=void 0),s!==void 0&&(s(),s=void 0),G(),E(d,"tooltipTemp")}function f(){Oe({targetEl:u.value,offset:e.offset,anchorEl:n.value,anchorOrigin:j.value,selfOrigin:N.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Z(t){if(o.platform.is.mobile===!0){z(),document.body.classList.add("non-selectable");const T=n.value,r=["touchmove","touchcancel","touchend","click"].map(k=>[T,k,"delayHide","passiveCapture"]);H(d,"tooltipTemp",r)}v(()=>{K(t)},e.delay)}function ee(t){o.platform.is.mobile===!0&&(E(d,"tooltipTemp"),z(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),v(()=>{y(t)},e.hideDelay)}function te(){if(e.noParentEvent===!0||n.value===null)return;const t=o.platform.is.mobile===!0?[[n.value,"touchstart","delayShow","passive"]]:[[n.value,"mouseenter","delayShow","passive"],[n.value,"mouseleave","delayHide","passive"]];H(d,"anchor",t)}function I(){if(n.value!==null||e.scrollTarget!==void 0){w.value=ge(n.value,e.scrollTarget);const t=e.noParentEvent===!0?f:y;$(w.value,t)}}function ae(){return m.value===!0?M("div",{...c,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",c.class],style:[c.style,R.value],role:"tooltip"},he(p.default)):null}function oe(){return M(me,W.value,ae)}return C(P),Object.assign(g.proxy,{updatePosition:f}),Y}});const He=["innerHTML"],Me={class:"ItemAmount"},Ae={__name:"ItemIcon",props:{icon:i(""),locIcon:i(""),grade:i(1),amount:i(null),toolText:i(""),size:i(null)},setup(e){const p=String("https://api.aa.dllib.ru/"),a=e;function c(){return a.size?a.size:"45px"}function s(){if(a.icon)return"url("+p+"img/icons/90/"+a.icon+")";if(a.locIcon)return"url("+a.locIcon+")"}function l(){return"url(/img/grade/"+a.grade+".png)"}return(g,o)=>(A(),ye("div",{class:"ItemIcon",style:q({backgroundImage:s(),width:c(),height:c()})},[e.toolText?(A(),Te(Ee,{key:0,class:"bg-tooltip"},{default:be(()=>[S("div",{innerHTML:e.toolText},null,8,He)]),_:1})):Se("",!0),S("div",{class:"grade",style:q({backgroundImage:l()})},[S("div",Me,we(e.amount),1)],4)],4))}};var Le=_e(Ae,[["__scopeId","data-v-206bd5e0"]]);export{Le as I,Ee as Q};
