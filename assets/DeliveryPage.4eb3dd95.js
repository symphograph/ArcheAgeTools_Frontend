import{c as b,bo as Ft,bp as oa,H as yt,aI as Pt,K as Qt,M as Et,bq as Nt,r as T,br as ra,w as fe,h,at as Oe,I as Bt,g as _t,bs as Kt,n as ct,ae as G,ad as ia,aR as sa,aV as da,bt as ca,U as vt,aS as va,bu as fa,bv as ma,aQ as ha,i as ga,s as Ve,v as ft,X as P,f as $,Z as Be,_ as Ke,a1 as ya,a6 as _a,be as Ma,$ as ba,av as Da,p as wt,o as wa,t as it,a5 as ie,bb as pt,bi as pa,a3 as kt,F as xt,a4 as ka,b4 as xa,b5 as Sa}from"./index.87894335.js";import{u as Ca}from"./use-cache.b0833c75.js";import{p as Y}from"./format.865294d5.js";import{Q as qa}from"./QMenu.ace21982.js";import{u as Ya,e as Ha,Q as mt,a as Te,b as ht}from"./position-engine.4b31b908.js";import{T as Ia}from"./TouchPan.1bcb6be1.js";import{Q as Oa}from"./QLinearProgress.4a9b3d13.js";import{Q as Va}from"./QList.58ea145f.js";import{Q as Ta}from"./QScrollArea.a41ff7f8.js";import{api as St}from"./axios.46ab916e.js";import{n as Ct}from"./myFuncts.384d94ea.js";import{Q as $a}from"./QSelect.a779dd01.js";import{u as ja}from"./use-quasar.4ae6ba34.js";import"./selection.fcb511b2.js";import"./QScrollObserver.1ec879b5.js";import"./jwt-decode.esm.81f958e7.js";const me=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Aa(e,u,s){return Object.prototype.toString.call(e)==="[object Date]"&&(s=e.getDate(),u=e.getMonth()+1,e=e.getFullYear()),Qa(Mt(e,u,s))}function qt(e,u,s){return zt(Pa(e,u,s))}function La(e){return Fa(e)===0}function at(e,u){return u<=6?31:u<=11||La(e)?30:29}function Fa(e){const u=me.length;let s=me[0],i,v,r,D,d;if(e<s||e>=me[u-1])throw new Error("Invalid Jalaali year "+e);for(d=1;d<u&&(i=me[d],v=i-s,!(e<i));d+=1)s=i;return D=e-s,v-D<6&&(D=D-v+A(v+4,33)*33),r=ee(ee(D+1,33)-1,4),r===-1&&(r=4),r}function Zt(e,u){const s=me.length,i=e+621;let v=-14,r=me[0],D,d,_,x,f;if(e<r||e>=me[s-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<s&&(D=me[f],d=D-r,!(e<D));f+=1)v=v+A(d,33)*8+A(ee(d,33),4),r=D;x=e-r,v=v+A(x,33)*8+A(ee(x,33)+3,4),ee(d,33)===4&&d-x===4&&(v+=1);const w=A(i,4)-A((A(i,100)+1)*3,4)-150,L=20+v-w;return u||(d-x<6&&(x=x-d+A(d+4,33)*33),_=ee(ee(x+1,33)-1,4),_===-1&&(_=4)),{leap:_,gy:i,march:L}}function Pa(e,u,s){const i=Zt(e,!0);return Mt(i.gy,3,i.march)+(u-1)*31-A(u,7)*(u-7)+s-1}function Qa(e){const u=zt(e).gy;let s=u-621,i,v,r;const D=Zt(s,!1),d=Mt(u,3,D.march);if(r=e-d,r>=0){if(r<=185)return v=1+A(r,31),i=ee(r,31)+1,{jy:s,jm:v,jd:i};r-=186}else s-=1,r+=179,D.leap===1&&(r+=1);return v=7+A(r,30),i=ee(r,30)+1,{jy:s,jm:v,jd:i}}function Mt(e,u,s){let i=A((e+A(u-8,6)+100100)*1461,4)+A(153*ee(u+9,12)+2,5)+s-34840408;return i=i-A(A(e+100100+A(u-8,6),100)*3,4)+752,i}function zt(e){let u=4*e+139361631;u=u+A(A(4*e+183187720,146097)*3,4)*4-3908;const s=A(ee(u,1461),4)*5+308,i=A(ee(s,153),5)+1,v=ee(A(s,153),12)+1;return{gy:A(u,1461)-100100+A(8-v,6),gm:v,gd:i}}function A(e,u){return~~(e/u)}function ee(e,u){return e-~~(e/u)*u}const Ea=["gregorian","persian"],Rt={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ea.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Ut=["update:modelValue"];function se(e){return e.year+"/"+Y(e.month)+"/"+Y(e.day)}function Xt(e,u){const s=b(()=>e.disable!==!0&&e.readonly!==!0),i=b(()=>s.value===!0?0:-1),v=b(()=>{const d=[];return e.color!==void 0&&d.push(`bg-${e.color}`),e.textColor!==void 0&&d.push(`text-${e.textColor}`),d.join(" ")});function r(){return e.locale!==void 0?{...u.lang.date,...e.locale}:u.lang.date}function D(d){const _=new Date,x=d===!0?null:0;if(e.calendar==="persian"){const f=Aa(_);return{year:f.jy,month:f.jm,day:f.jd}}return{year:_.getFullYear(),month:_.getMonth()+1,day:_.getDate(),hour:x,minute:x,second:x,millisecond:x}}return{editable:s,tabindex:i,headerClass:v,getLocale:r,getCurrentDate:D}}const Wt=864e5,Na=36e5,gt=6e4,Jt="YYYY-MM-DDTHH:mm:ss.SSSZ",Ba=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Ka=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,st={};function Za(e,u){const s="("+u.days.join("|")+")",i=e+s;if(st[i]!==void 0)return st[i];const v="("+u.daysShort.join("|")+")",r="("+u.months.join("|")+")",D="("+u.monthsShort.join("|")+")",d={};let _=0;const x=e.replace(Ka,w=>{switch(_++,w){case"YY":return d.YY=_,"(-?\\d{1,2})";case"YYYY":return d.YYYY=_,"(-?\\d{1,4})";case"M":return d.M=_,"(\\d{1,2})";case"MM":return d.M=_,"(\\d{2})";case"MMM":return d.MMM=_,D;case"MMMM":return d.MMMM=_,r;case"D":return d.D=_,"(\\d{1,2})";case"Do":return d.D=_++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return d.D=_,"(\\d{2})";case"H":return d.H=_,"(\\d{1,2})";case"HH":return d.H=_,"(\\d{2})";case"h":return d.h=_,"(\\d{1,2})";case"hh":return d.h=_,"(\\d{2})";case"m":return d.m=_,"(\\d{1,2})";case"mm":return d.m=_,"(\\d{2})";case"s":return d.s=_,"(\\d{1,2})";case"ss":return d.s=_,"(\\d{2})";case"S":return d.S=_,"(\\d{1})";case"SS":return d.S=_,"(\\d{2})";case"SSS":return d.S=_,"(\\d{3})";case"A":return d.A=_,"(AM|PM)";case"a":return d.a=_,"(am|pm)";case"aa":return d.aa=_,"(a\\.m\\.|p\\.m\\.)";case"ddd":return v;case"dddd":return s;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return d.Z=_,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return d.ZZ=_,"(Z|[+-]\\d{2}\\d{2})";case"X":return d.X=_,"(-?\\d+)";case"x":return d.x=_,"(-?\\d{4,})";default:return _--,w[0]==="["&&(w=w.substring(1,w.length-1)),w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),f={map:d,regex:new RegExp("^"+x)};return st[i]=f,f}function Gt(e,u){return e!==void 0?e:u!==void 0?u.date:oa.date}function Yt(e,u=""){const s=e>0?"-":"+",i=Math.abs(e),v=Math.floor(i/60),r=i%60;return s+Y(v)+u+Y(r)}function Ne(e,u,s,i,v){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(v!==void 0&&Object.assign(r,v),e==null||e===""||typeof e!="string")return r;u===void 0&&(u=Jt);const D=Gt(s,Ft.props),d=D.months,_=D.monthsShort,{regex:x,map:f}=Za(u,D),w=e.match(x);if(w===null)return r;let L="";if(f.X!==void 0||f.x!==void 0){const Q=parseInt(w[f.X!==void 0?f.X:f.x],10);if(isNaN(Q)===!0||Q<0)return r;const B=new Date(Q*(f.X!==void 0?1e3:1));r.year=B.getFullYear(),r.month=B.getMonth()+1,r.day=B.getDate(),r.hour=B.getHours(),r.minute=B.getMinutes(),r.second=B.getSeconds(),r.millisecond=B.getMilliseconds()}else{if(f.YYYY!==void 0)r.year=parseInt(w[f.YYYY],10);else if(f.YY!==void 0){const Q=parseInt(w[f.YY],10);r.year=Q<0?Q:2e3+Q}if(f.M!==void 0){if(r.month=parseInt(w[f.M],10),r.month<1||r.month>12)return r}else f.MMM!==void 0?r.month=_.indexOf(w[f.MMM])+1:f.MMMM!==void 0&&(r.month=d.indexOf(w[f.MMMM])+1);if(f.D!==void 0){if(r.day=parseInt(w[f.D],10),r.year===null||r.month===null||r.day<1)return r;const Q=i!=="persian"?new Date(r.year,r.month,0).getDate():at(r.year,r.month);if(r.day>Q)return r}f.H!==void 0?r.hour=parseInt(w[f.H],10)%24:f.h!==void 0&&(r.hour=parseInt(w[f.h],10)%12,(f.A&&w[f.A]==="PM"||f.a&&w[f.a]==="pm"||f.aa&&w[f.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),f.m!==void 0&&(r.minute=parseInt(w[f.m],10)%60),f.s!==void 0&&(r.second=parseInt(w[f.s],10)%60),f.S!==void 0&&(r.millisecond=parseInt(w[f.S],10)*10**(3-w[f.S].length)),(f.Z!==void 0||f.ZZ!==void 0)&&(L=f.Z!==void 0?w[f.Z].replace(":",""):w[f.ZZ],r.timezoneOffset=(L[0]==="+"?-1:1)*(60*L.slice(1,3)+1*L.slice(3,5)))}return r.dateHash=Y(r.year,6)+"/"+Y(r.month)+"/"+Y(r.day),r.timeHash=Y(r.hour)+":"+Y(r.minute)+":"+Y(r.second)+L,r}function Ht(e){const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());u.setDate(u.getDate()-(u.getDay()+6)%7+3);const s=new Date(u.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);const i=u.getTimezoneOffset()-s.getTimezoneOffset();u.setHours(u.getHours()-i);const v=(u-s)/(Wt*7);return 1+Math.floor(v)}function de(e,u,s){const i=new Date(e),v=`set${s===!0?"UTC":""}`;switch(u){case"year":case"years":i[`${v}Month`](0);case"month":case"months":i[`${v}Date`](1);case"day":case"days":case"date":i[`${v}Hours`](0);case"hour":case"hours":i[`${v}Minutes`](0);case"minute":case"minutes":i[`${v}Seconds`](0);case"second":case"seconds":i[`${v}Milliseconds`](0)}return i}function tt(e,u,s){return(e.getTime()-e.getTimezoneOffset()*gt-(u.getTime()-u.getTimezoneOffset()*gt))/s}function ea(e,u,s="days"){const i=new Date(e),v=new Date(u);switch(s){case"years":case"year":return i.getFullYear()-v.getFullYear();case"months":case"month":return(i.getFullYear()-v.getFullYear())*12+i.getMonth()-v.getMonth();case"days":case"day":case"date":return tt(de(i,"day"),de(v,"day"),Wt);case"hours":case"hour":return tt(de(i,"hour"),de(v,"hour"),Na);case"minutes":case"minute":return tt(de(i,"minute"),de(v,"minute"),gt);case"seconds":case"second":return tt(de(i,"second"),de(v,"second"),1e3)}}function It(e){return ea(e,de(e,"year"),"days")+1}function Ot(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Vt={YY(e,u,s){const i=this.YYYY(e,u,s)%100;return i>=0?Y(i):"-"+Y(Math.abs(i))},YYYY(e,u,s){return s!=null?s:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Y(e.getMonth()+1)},MMM(e,u){return u.monthsShort[e.getMonth()]},MMMM(e,u){return u.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Ot(this.Q(e))},D(e){return e.getDate()},Do(e){return Ot(e.getDate())},DD(e){return Y(e.getDate())},DDD(e){return It(e)},DDDD(e){return Y(It(e),3)},d(e){return e.getDay()},dd(e,u){return this.dddd(e,u).slice(0,2)},ddd(e,u){return u.daysShort[e.getDay()]},dddd(e,u){return u.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Ht(e)},ww(e){return Y(Ht(e))},H(e){return e.getHours()},HH(e){return Y(e.getHours())},h(e){const u=e.getHours();return u===0?12:u>12?u%12:u},hh(e){return Y(this.h(e))},m(e){return e.getMinutes()},mm(e){return Y(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Y(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Y(Math.floor(e.getMilliseconds()/10))},SSS(e){return Y(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,u,s,i){const v=i==null?e.getTimezoneOffset():i;return Yt(v,":")},ZZ(e,u,s,i){const v=i==null?e.getTimezoneOffset():i;return Yt(v)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function ta(e,u,s,i,v){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;u===void 0&&(u=Jt);const D=Gt(s,Ft.props);return u.replace(Ba,(d,_)=>d in Vt?Vt[d](r,D,i,v):_===void 0?d:_.split("\\]").join("]"))}const De=20,za=["Calendar","Years","Months"],Tt=e=>za.includes(e),dt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ie=" \u2014 ";function ve(e){return e.year+"/"+Y(e.month)}var Ra=yt({name:"QDate",props:{...Rt,...Pt,...Qt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:dt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:dt},navigationMaxYearMonth:{type:String,validator:dt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Tt}},emits:[...Ut,"rangeStart","rangeEnd","navigation"],setup(e,{slots:u,emit:s}){const{proxy:i}=_t(),{$q:v}=i,r=Et(e,v),{getCache:D}=Ca(),{tabindex:d,headerClass:_,getLocale:x,getCurrentDate:f}=Xt(e,v);let w;const L=Nt(e),Q=Kt(L),B=T(null),I=T(Ge()),O=T(x()),we=b(()=>Ge()),V=b(()=>x()),y=b(()=>f()),n=T(o(I.value,O.value)),S=T(e.defaultView),he=v.lang.rtl===!0?"right":"left",ae=T(he.value),z=T(he.value),$e=n.value.year,ge=T($e-$e%De-($e<0?De:0)),R=T(null),ye=b(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),te=b(()=>e.color||"primary"),ne=b(()=>e.textColor||"white"),U=b(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),oe=b(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),Z=b(()=>oe.value.filter(t=>typeof t=="string").map(t=>Qe(t,I.value,O.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),le=b(()=>{const t=a=>Qe(a,I.value,O.value);return oe.value.filter(a=>ra(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),pe=b(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=qt(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),je=b(()=>e.calendar==="persian"?se:(t,a,l)=>ta(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?I.value:a,l===void 0?O.value:l,t.year,t.timezoneOffset)),ce=b(()=>Z.value.length+le.value.reduce((t,a)=>t+1+ea(pe.value(a.to),pe.value(a.from)),0)),_e=b(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(R.value!==null){const l=R.value.init,g=pe.value(l);return O.value.daysShort[g.getDay()]+", "+O.value.monthsShort[l.month-1]+" "+l.day+Ie+"?"}if(ce.value===0)return Ie;if(ce.value>1)return`${ce.value} ${O.value.pluralDay}`;const t=Z.value[0],a=pe.value(t);return isNaN(a.valueOf())===!0?Ie:O.value.headerTitle!==void 0?O.value.headerTitle(a,t):O.value.daysShort[a.getDay()]+", "+O.value.monthsShort[t.month-1]+" "+t.day}),Ze=b(()=>Z.value.concat(le.value.map(a=>a.from)).sort((a,l)=>a.year-l.year||a.month-l.month)[0]),Ae=b(()=>Z.value.concat(le.value.map(a=>a.to)).sort((a,l)=>l.year-a.year||l.month-a.month)[0]),ze=b(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(ce.value===0)return Ie;if(ce.value>1){const t=Ze.value,a=Ae.value,l=O.value.monthsShort;return l[t.month-1]+(t.year!==a.year?" "+t.year+Ie+l[a.month-1]+" ":t.month!==a.month?Ie+l[a.month-1]:"")+" "+a.year}return Z.value[0].year}),ke=b(()=>{const t=[v.iconSet.datetime.arrowLeft,v.iconSet.datetime.arrowRight];return v.lang.rtl===!0?t.reverse():t}),xe=b(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):O.value.firstDayOfWeek),Le=b(()=>{const t=O.value.daysShort,a=xe.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),ue=b(()=>{const t=n.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():at(t.year,t.month)}),Re=b(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),N=b(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),K=b(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Fe=b(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return N.value!==null&&N.value.year>=n.value.year&&(t.year.prev=!1,N.value.year===n.value.year&&N.value.month>=n.value.month&&(t.month.prev=!1)),K.value!==null&&K.value.year<=n.value.year&&(t.year.next=!1,K.value.year===n.value.year&&K.value.month<=n.value.month&&(t.month.next=!1)),t}),Se=b(()=>{const t={};return Z.value.forEach(a=>{const l=ve(a);t[l]===void 0&&(t[l]=[]),t[l].push(a.day)}),t}),Ue=b(()=>{const t={};return le.value.forEach(a=>{const l=ve(a.from),g=ve(a.to);if(t[l]===void 0&&(t[l]=[]),t[l].push({from:a.from.day,to:l===g?a.to.day:void 0,range:a}),l<g){let m;const{year:H,month:M}=a.from,k=M<12?{year:H,month:M+1}:{year:H+1,month:1};for(;(m=ve(k))<=g;)t[m]===void 0&&(t[m]=[]),t[m].push({from:void 0,to:m===g?a.to.day:void 0,range:a}),k.month++,k.month>12&&(k.year++,k.month=1)}}),t}),Me=b(()=>{if(R.value===null)return;const{init:t,initHash:a,final:l,finalHash:g}=R.value,[m,H]=a<=g?[t,l]:[l,t],M=ve(m),k=ve(H);if(M!==X.value&&k!==X.value)return;const j={};return M===X.value?(j.from=m.day,j.includeFrom=!0):j.from=1,k===X.value?(j.to=H.day,j.includeTo=!0):j.to=ue.value,j}),X=b(()=>ve(n.value)),nt=b(()=>{const t={};if(e.options===void 0){for(let l=1;l<=ue.value;l++)t[l]=!0;return t}const a=typeof e.options=="function"?e.options:l=>e.options.includes(l);for(let l=1;l<=ue.value;l++){const g=X.value+"/"+Y(l);t[l]=a(g)}return t}),lt=b(()=>{const t={};if(e.events===void 0)for(let a=1;a<=ue.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:l=>e.events.includes(l);for(let l=1;l<=ue.value;l++){const g=X.value+"/"+Y(l);t[l]=a(g)===!0&&Re.value(g)}}return t}),Ce=b(()=>{let t,a;const{year:l,month:g}=n.value;if(e.calendar!=="persian")t=new Date(l,g-1,1),a=new Date(l,g-1,0).getDate();else{const m=qt(l,g,1);t=new Date(m.gy,m.gm-1,m.gd);let H=g-1,M=l;H===0&&(H=12,M--),a=at(M,H)}return{days:t.getDay()-xe.value-1,endDay:a}}),be=b(()=>{const t=[],{days:a,endDay:l}=Ce.value,g=a<0?a+7:a;if(g<6)for(let M=l-g;M<=l;M++)t.push({i:M,fill:!0});const m=t.length;for(let M=1;M<=ue.value;M++){const k={i:M,event:lt.value[M],classes:[]};nt.value[M]===!0&&(k.in=!0,k.flat=!0),t.push(k)}if(Se.value[X.value]!==void 0&&Se.value[X.value].forEach(M=>{const k=m+M-1;Object.assign(t[k],{selected:!0,unelevated:!0,flat:!1,color:te.value,textColor:ne.value})}),Ue.value[X.value]!==void 0&&Ue.value[X.value].forEach(M=>{if(M.from!==void 0){const k=m+M.from-1,j=m+(M.to||ue.value)-1;for(let Ee=k;Ee<=j;Ee++)Object.assign(t[Ee],{range:M.range,unelevated:!0,color:te.value,textColor:ne.value});Object.assign(t[k],{rangeFrom:!0,flat:!1}),M.to!==void 0&&Object.assign(t[j],{rangeTo:!0,flat:!1})}else if(M.to!==void 0){const k=m+M.to-1;for(let j=m;j<=k;j++)Object.assign(t[j],{range:M.range,unelevated:!0,color:te.value,textColor:ne.value});Object.assign(t[k],{flat:!1,rangeTo:!0})}else{const k=m+ue.value-1;for(let j=m;j<=k;j++)Object.assign(t[j],{range:M.range,unelevated:!0,color:te.value,textColor:ne.value})}}),Me.value!==void 0){const M=m+Me.value.from-1,k=m+Me.value.to-1;for(let j=M;j<=k;j++)t[j].color=te.value,t[j].editRange=!0;Me.value.includeFrom===!0&&(t[M].editRangeFrom=!0),Me.value.includeTo===!0&&(t[k].editRangeTo=!0)}n.value.year===y.value.year&&n.value.month===y.value.month&&(t[m+y.value.day-1].today=!0);const H=t.length%7;if(H>0){const M=7-H;for(let k=1;k<=M;k++)t.push({i:k,fill:!0})}return t.forEach(M=>{let k="q-date__calendar-item ";M.fill===!0?k+="q-date__calendar-item--fill":(k+=`q-date__calendar-item--${M.in===!0?"in":"out"}`,M.range!==void 0&&(k+=` q-date__range${M.rangeTo===!0?"-to":M.rangeFrom===!0?"-from":""}`),M.editRange===!0&&(k+=` q-date__edit-range${M.editRangeFrom===!0?"-from":""}${M.editRangeTo===!0?"-to":""}`),(M.range!==void 0||M.editRange===!0)&&(k+=` text-${M.color}`)),M.classes=k}),t}),qe=b(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});fe(()=>e.modelValue,t=>{if(w===t)w=0;else{const a=o(I.value,O.value);W(a.year,a.month,a)}}),fe(S,()=>{B.value!==null&&i.$el.contains(document.activeElement)===!0&&B.value.focus()}),fe(()=>n.value.year+"|"+n.value.month,()=>{s("navigation",{year:n.value.year,month:n.value.month})}),fe(we,t=>{Dt(t,O.value,"mask"),I.value=t}),fe(V,t=>{Dt(I.value,t,"locale"),O.value=t});function Xe(){const t=y.value,a=Se.value[ve(t)];(a===void 0||a.includes(t.day)===!1)&&ut(t),re(t.year,t.month)}function We(t){Tt(t)===!0&&(S.value=t)}function Je(t,a){["month","year"].includes(t)&&(t==="month"?p:C)(a===!0?-1:1)}function re(t,a){S.value="Calendar",W(t,a)}function Pe(t,a){if(e.range===!1||!t){R.value=null;return}const l=Object.assign({...n.value},t),g=a!==void 0?Object.assign({...n.value},a):l;R.value={init:l,initHash:se(l),final:g,finalHash:se(g)},re(l.year,l.month)}function Ge(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Qe(t,a,l){return Ne(t,a,l,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function o(t,a){const l=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(l.length===0)return c();const g=l[l.length-1],m=Qe(g.from!==void 0?g.from:g,t,a);return m.dateHash===null?c():m}function c(){let t,a;if(e.defaultYearMonth!==void 0){const l=e.defaultYearMonth.split("/");t=parseInt(l[0],10),a=parseInt(l[1],10)}else{const l=y.value!==void 0?y.value:f();t=l.year,a=l.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+Y(a)+"/01"}}function p(t){let a=n.value.year,l=Number(n.value.month)+t;l===13?(l=1,a++):l===0&&(l=12,a--),W(a,l),U.value===!0&&Ye("month")}function C(t){const a=Number(n.value.year)+t;W(a,n.value.month),U.value===!0&&Ye("year")}function F(t){W(t,n.value.month),S.value=e.defaultView==="Years"?"Months":"Calendar",U.value===!0&&Ye("year")}function J(t){W(n.value.year,t),S.value="Calendar",U.value===!0&&Ye("month")}function q(t,a){const l=Se.value[a];(l!==void 0&&l.includes(t.day)===!0?ot:ut)(t)}function E(t){return{year:t.year,month:t.month,day:t.day}}function W(t,a,l){if(N.value!==null&&t<=N.value.year&&(t=N.value.year,a<N.value.month&&(a=N.value.month)),K.value!==null&&t>=K.value.year&&(t=K.value.year,a>K.value.month&&(a=K.value.month)),l!==void 0){const{hour:m,minute:H,second:M,millisecond:k,timezoneOffset:j,timeHash:Ee}=l;Object.assign(n.value,{hour:m,minute:H,second:M,millisecond:k,timezoneOffset:j,timeHash:Ee})}const g=t+"/"+Y(a)+"/01";g!==n.value.dateHash&&(ae.value=n.value.dateHash<g==(v.lang.rtl!==!0)?"left":"right",t!==n.value.year&&(z.value=ae.value),ct(()=>{ge.value=t-t%De-(t<0?De:0),Object.assign(n.value,{year:t,month:a,day:1,dateHash:g})}))}function et(t,a,l){const g=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;w=g;const{reason:m,details:H}=bt(a,l);s("update:modelValue",g,m,H)}function Ye(t){const a=Z.value[0]!==void 0&&Z.value[0].dateHash!==null?{...Z.value[0]}:{...n.value};ct(()=>{a.year=n.value.year,a.month=n.value.month;const l=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():at(a.year,a.month);a.day=Math.min(Math.max(1,a.day),l);const g=He(a);w=g;const{details:m}=bt("",a);s("update:modelValue",g,t,m)})}function bt(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...E(a.target),from:E(a.from),to:E(a.to)}}:{reason:`${t}-day`,details:E(a)}}function He(t,a,l){return t.from!==void 0?{from:je.value(t.from,a,l),to:je.value(t.to,a,l)}:je.value(t,a,l)}function ut(t){let a;if(e.multiple===!0)if(t.from!==void 0){const l=se(t.from),g=se(t.to),m=Z.value.filter(M=>M.dateHash<l||M.dateHash>g),H=le.value.filter(({from:M,to:k})=>k.dateHash<l||M.dateHash>g);a=m.concat(H).concat(t).map(M=>He(M))}else{const l=oe.value.slice();l.push(He(t)),a=l}else a=He(t);et(a,"add",t)}function ot(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const l=He(t);t.from!==void 0?a=e.modelValue.filter(g=>g.from!==void 0?g.from!==l.from&&g.to!==l.to:!0):a=e.modelValue.filter(g=>g!==l),a.length===0&&(a=null)}et(a,"remove",t)}function Dt(t,a,l){const g=Z.value.concat(le.value).map(m=>He(m,t,a)).filter(m=>m.from!==void 0?m.from.dateHash!==null&&m.to.dateHash!==null:m.dateHash!==null);s("update:modelValue",(e.multiple===!0?g:g[0])||null,l)}function aa(){if(e.minimal!==!0)return h("div",{class:"q-date__header "+_.value},[h("div",{class:"relative-position"},[h(Oe,{name:"q-transition--fade"},()=>h("div",{key:"h-yr-"+ze.value,class:"q-date__header-subtitle q-date__header-link "+(S.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:d.value,...D("vY",{onClick(){S.value="Years"},onKeyup(t){t.keyCode===13&&(S.value="Years")}})},[ze.value]))]),h("div",{class:"q-date__header-title relative-position flex no-wrap"},[h("div",{class:"relative-position col"},[h(Oe,{name:"q-transition--fade"},()=>h("div",{key:"h-sub"+_e.value,class:"q-date__header-title-label q-date__header-link "+(S.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:d.value,...D("vC",{onClick(){S.value="Calendar"},onKeyup(t){t.keyCode===13&&(S.value="Calendar")}})},[_e.value]))]),e.todayBtn===!0?h(G,{class:"q-date__header-today self-start",icon:v.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:d.value,onClick:Xe}):null])])}function rt({label:t,type:a,key:l,dir:g,goTo:m,boundaries:H,cls:M}){return[h("div",{class:"row items-center q-date__arrow"},[h(G,{round:!0,dense:!0,size:"sm",flat:!0,icon:ke.value[0],tabindex:d.value,disable:H.prev===!1,...D("go-#"+a,{onClick(){m(-1)}})})]),h("div",{class:"relative-position overflow-hidden flex flex-center"+M},[h(Oe,{name:"q-transition--jump-"+g},()=>h("div",{key:l},[h(G,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:d.value,...D("view#"+a,{onClick:()=>{S.value=a}})})]))]),h("div",{class:"row items-center q-date__arrow"},[h(G,{round:!0,dense:!0,size:"sm",flat:!0,icon:ke.value[1],tabindex:d.value,disable:H.next===!1,...D("go+#"+a,{onClick(){m(1)}})})])]}const na={Calendar:()=>[h("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[h("div",{class:"q-date__navigation row items-center no-wrap"},rt({label:O.value.months[n.value.month-1],type:"Months",key:n.value.month,dir:ae.value,goTo:p,boundaries:Fe.value.month,cls:" col"}).concat(rt({label:n.value.year,type:"Years",key:n.value.year,dir:z.value,goTo:C,boundaries:Fe.value.year,cls:""}))),h("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Le.value.map(t=>h("div",{class:"q-date__calendar-item"},[h("div",t)]))),h("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[h(Oe,{name:"q-transition--slide-"+ae.value},()=>h("div",{key:X.value,class:"q-date__calendar-days fit"},be.value.map(t=>h("div",{class:t.classes},[t.in===!0?h(G,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:d.value,...D("day#"+t.i,{onClick:()=>{la(t.i)},onMouseover:()=>{ua(t.i)}})},t.event!==!1?()=>h("div",{class:"q-date__event bg-"+t.event}):null):h("div",""+t.i)]))))])])],Months(){const t=n.value.year===y.value.year,a=g=>N.value!==null&&n.value.year===N.value.year&&N.value.month>g||K.value!==null&&n.value.year===K.value.year&&K.value.month<g,l=O.value.monthsShort.map((g,m)=>{const H=n.value.month===m+1;return h("div",{class:"q-date__months-item flex flex-center"},[h(G,{class:t===!0&&y.value.month===m+1?"q-date__today":null,flat:H!==!0,label:g,unelevated:H,color:H===!0?te.value:null,textColor:H===!0?ne.value:null,tabindex:d.value,disable:a(m+1),...D("month#"+m,{onClick:()=>{J(m+1)}})})])});return e.yearsInMonthView===!0&&l.unshift(h("div",{class:"row no-wrap full-width"},[rt({label:n.value.year,type:"Years",key:n.value.year,dir:z.value,goTo:C,boundaries:Fe.value.year,cls:" col"})])),h("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},l)},Years(){const t=ge.value,a=t+De,l=[],g=m=>N.value!==null&&N.value.year>m||K.value!==null&&K.value.year<m;for(let m=t;m<=a;m++){const H=n.value.year===m;l.push(h("div",{class:"q-date__years-item flex flex-center"},[h(G,{key:"yr"+m,class:y.value.year===m?"q-date__today":null,flat:!H,label:m,dense:!0,unelevated:H,color:H===!0?te.value:null,textColor:H===!0?ne.value:null,tabindex:d.value,disable:g(m),...D("yr#"+m,{onClick:()=>{F(m)}})})]))}return h("div",{class:"q-date__view q-date__years flex flex-center"},[h("div",{class:"col-auto"},[h(G,{round:!0,dense:!0,flat:!0,icon:ke.value[0],tabindex:d.value,disable:g(t),...D("y-",{onClick:()=>{ge.value-=De}})})]),h("div",{class:"q-date__years-content col self-stretch row items-center"},l),h("div",{class:"col-auto"},[h(G,{round:!0,dense:!0,flat:!0,icon:ke.value[1],tabindex:d.value,disable:g(a),...D("y+",{onClick:()=>{ge.value+=De}})})])])}};function la(t){const a={...n.value,day:t};if(e.range===!1){q(a,X.value);return}if(R.value===null){const l=be.value.find(m=>m.fill!==!0&&m.i===t);if(e.noUnset!==!0&&l.range!==void 0){ot({target:a,from:l.range.from,to:l.range.to});return}if(l.selected===!0){ot(a);return}const g=se(a);R.value={init:a,initHash:g,final:a,finalHash:g},s("rangeStart",E(a))}else{const l=R.value.initHash,g=se(a),m=l<=g?{from:R.value.init,to:a}:{from:a,to:R.value.init};R.value=null,ut(l===g?a:{target:a,...m}),s("rangeEnd",{from:E(m.from),to:E(m.to)})}}function ua(t){if(R.value!==null){const a={...n.value,day:t};Object.assign(R.value,{final:a,finalHash:se(a)})}}return Object.assign(i,{setToday:Xe,setView:We,offsetCalendar:Je,setCalendarTo:re,setEditingRange:Pe}),()=>{const t=[h("div",{class:"q-date__content col relative-position"},[h(Oe,{name:"q-transition--fade"},na[S.value])])],a=Bt(u.default);return a!==void 0&&t.push(h("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&Q(t,"push"),h("div",{class:ye.value,...qe.value},[aa(),h("div",{ref:B,class:"q-date__main col column",tabindex:-1},t)])}}}),$t=yt({name:"QPopupProxy",props:{...Ya,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:u,emit:s,attrs:i}){const{proxy:v}=_t(),{$q:r}=v,D=T(!1),d=T(null),_=b(()=>parseInt(e.breakpoint,10)),{canShow:x}=Ha({showing:D});function f(){return r.screen.width<_.value||r.screen.height<_.value?"dialog":"menu"}const w=T(f()),L=b(()=>w.value==="menu"?{maxHeight:"99vh"}:{});fe(()=>f(),I=>{D.value!==!0&&(w.value=I)});function Q(I){D.value=!0,s("show",I)}function B(I){D.value=!1,w.value=f(),s("hide",I)}return Object.assign(v,{show(I){x(I)===!0&&d.value.show(I)},hide(I){d.value.hide(I)},toggle(I){d.value.toggle(I)}}),ia(v,"currentComponent",()=>({type:w.value,ref:d.value})),()=>{const I={ref:d,...L.value,...i,onShow:Q,onHide:B};let O;return w.value==="dialog"?O=sa:(O=qa,Object.assign(I,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),h(O,I,u.default)}}});function Ua(e,u){if(e.hour!==null){if(e.minute===null)return"minute";if(u===!0&&e.second===null)return"second"}return"hour"}function Xa(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var Wa=yt({name:"QTime",props:{...Qt,...Pt,...Rt,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Ut,setup(e,{slots:u,emit:s}){const i=_t(),{$q:v}=i.proxy,r=Et(e,v),{tabindex:D,headerClass:d,getLocale:_,getCurrentDate:x}=Xt(e,v),f=Nt(e),w=Kt(f);let L,Q;const B=T(null),I=b(()=>ze()),O=b(()=>_()),we=b(()=>ke()),V=Ne(e.modelValue,I.value,O.value,e.calendar,we.value),y=T(Ua(V)),n=T(V),S=T(V.hour===null||V.hour<12),he=b(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(r.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),ae=b(()=>{const o=n.value;return{hour:o.hour===null?"--":z.value===!0?Y(o.hour):String(S.value===!0?o.hour===0?12:o.hour:o.hour>12?o.hour-12:o.hour),minute:o.minute===null?"--":Y(o.minute),second:o.second===null?"--":Y(o.second)}}),z=b(()=>e.format24h!==null?e.format24h:v.lang.date.format24h),$e=b(()=>{const o=y.value==="hour",c=o===!0?12:60,p=n.value[y.value];let F=`rotate(${Math.round(p*(360/c))-180}deg) translateX(-50%)`;return o===!0&&z.value===!0&&n.value.hour>=12&&(F+=" scale(.7)"),{transform:F}}),ge=b(()=>n.value.hour!==null),R=b(()=>ge.value===!0&&n.value.minute!==null),ye=b(()=>e.hourOptions!==void 0?o=>e.hourOptions.includes(o):e.options!==void 0?o=>e.options(o,null,null):null),te=b(()=>e.minuteOptions!==void 0?o=>e.minuteOptions.includes(o):e.options!==void 0?o=>e.options(n.value.hour,o,null):null),ne=b(()=>e.secondOptions!==void 0?o=>e.secondOptions.includes(o):e.options!==void 0?o=>e.options(n.value.hour,n.value.minute,o):null),U=b(()=>{if(ye.value===null)return null;const o=_e(0,11,ye.value),c=_e(12,11,ye.value);return{am:o,pm:c,values:o.values.concat(c.values)}}),oe=b(()=>te.value!==null?_e(0,59,te.value):null),Z=b(()=>ne.value!==null?_e(0,59,ne.value):null),le=b(()=>{switch(y.value){case"hour":return U.value;case"minute":return oe.value;case"second":return Z.value}}),pe=b(()=>{let o,c,p=0,C=1;const F=le.value!==null?le.value.values:void 0;y.value==="hour"?z.value===!0?(o=0,c=23):(o=0,c=11,S.value===!1&&(p=12)):(o=0,c=55,C=5);const J=[];for(let q=o,E=o;q<=c;q+=C,E++){const W=q+p,et=F!==void 0&&F.includes(W)===!1,Ye=y.value==="hour"&&q===0?z.value===!0?"00":"12":q;J.push({val:W,index:E,disable:et,label:Ye})}return J}),je=b(()=>[[Ia,ue,void 0,{stop:!0,prevent:!0,mouse:!0}]]);fe(()=>e.modelValue,o=>{const c=Ne(o,I.value,O.value,e.calendar,we.value);(c.dateHash!==n.value.dateHash||c.timeHash!==n.value.timeHash)&&(n.value=c,c.hour===null?y.value="hour":S.value=c.hour<12)}),fe([I,O],()=>{ct(()=>{Pe()})});function ce(){const o={...x(),...Xa()};Pe(o),Object.assign(n.value,o),y.value="hour"}function _e(o,c,p){const C=Array.apply(null,{length:c+1}).map((F,J)=>{const q=J+o;return{index:q,val:p(q)===!0}}).filter(F=>F.val===!0).map(F=>F.index);return{min:C[0],max:C[C.length-1],values:C,threshold:c+1}}function Ze(o,c,p){const C=Math.abs(o-c);return Math.min(C,p-C)}function Ae(o,{min:c,max:p,values:C,threshold:F}){if(o===c)return c;if(o<c||o>p)return Ze(o,c,F)<=Ze(o,p,F)?c:p;const J=C.findIndex(W=>o<=W),q=C[J-1],E=C[J];return o-q<=E-o?q:E}function ze(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function ke(){if(typeof e.defaultDate!="string"){const o=x(!0);return o.dateHash=se(o),o}return Ne(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function xe(){return ca(i)===!0||le.value!==null&&(le.value.values.length===0||y.value==="hour"&&z.value!==!0&&U.value[S.value===!0?"am":"pm"].values.length===0)}function Le(){const o=B.value,{top:c,left:p,width:C}=o.getBoundingClientRect(),F=C/2;return{top:c+F,left:p+F,dist:F*.7}}function ue(o){if(xe()!==!0){if(o.isFirst===!0){L=Le(),Q=N(o.evt,L);return}Q=N(o.evt,L,Q),o.isFinal===!0&&(L=!1,Q=null,Re())}}function Re(){y.value==="hour"?y.value="minute":e.withSeconds&&y.value==="minute"&&(y.value="second")}function N(o,c,p){const C=da(o),F=Math.abs(C.top-c.top),J=Math.sqrt(Math.pow(Math.abs(C.top-c.top),2)+Math.pow(Math.abs(C.left-c.left),2));let q,E=Math.asin(F/J)*(180/Math.PI);if(C.top<c.top?E=c.left<C.left?90-E:270+E:E=c.left<C.left?E+90:270-E,y.value==="hour"){if(q=E/30,U.value!==null){const W=z.value!==!0?S.value===!0:U.value.am.values.length!==0&&U.value.pm.values.length!==0?J>=c.dist:U.value.am.values.length!==0;q=Ae(q+(W===!0?0:12),U.value[W===!0?"am":"pm"])}else q=Math.round(q),z.value===!0?J<c.dist?q<12&&(q+=12):q===12&&(q=0):S.value===!0&&q===12?q=0:S.value===!1&&q!==12&&(q+=12);z.value===!0&&(S.value=q<12)}else q=Math.round(E/6)%60,y.value==="minute"&&oe.value!==null?q=Ae(q,oe.value):y.value==="second"&&Z.value!==null&&(q=Ae(q,Z.value));return p!==q&&Xe[y.value](q),q}const K={hour(){y.value="hour"},minute(){y.value="minute"},second(){y.value="second"}};function Fe(o){o.keyCode===13&&We()}function Se(o){o.keyCode===13&&Je()}function Ue(o){xe()!==!0&&(v.platform.is.desktop!==!0&&N(o,Le()),Re())}function Me(o){xe()!==!0&&N(o,Le())}function X(o){if(o.keyCode===13)y.value="hour";else if([37,39].includes(o.keyCode)){const c=o.keyCode===37?-1:1;if(U.value!==null){const p=z.value===!0?U.value.values:U.value[S.value===!0?"am":"pm"].values;if(p.length===0)return;if(n.value.hour===null)Ce(p[0]);else{const C=(p.length+p.indexOf(n.value.hour)+c)%p.length;Ce(p[C])}}else{const p=z.value===!0?24:12,C=z.value!==!0&&S.value===!1?12:0,F=n.value.hour===null?-c:n.value.hour;Ce(C+(24+F+c)%p)}}}function nt(o){if(o.keyCode===13)y.value="minute";else if([37,39].includes(o.keyCode)){const c=o.keyCode===37?-1:1;if(oe.value!==null){const p=oe.value.values;if(p.length===0)return;if(n.value.minute===null)be(p[0]);else{const C=(p.length+p.indexOf(n.value.minute)+c)%p.length;be(p[C])}}else{const p=n.value.minute===null?-c:n.value.minute;be((60+p+c)%60)}}}function lt(o){if(o.keyCode===13)y.value="second";else if([37,39].includes(o.keyCode)){const c=o.keyCode===37?-1:1;if(Z.value!==null){const p=Z.value.values;if(p.length===0)return;if(n.value.seconds===null)qe(p[0]);else{const C=(p.length+p.indexOf(n.value.second)+c)%p.length;qe(p[C])}}else{const p=n.value.second===null?-c:n.value.second;qe((60+p+c)%60)}}}function Ce(o){n.value.hour!==o&&(n.value.hour=o,re())}function be(o){n.value.minute!==o&&(n.value.minute=o,re())}function qe(o){n.value.second!==o&&(n.value.second=o,re())}const Xe={hour:Ce,minute:be,second:qe};function We(){S.value===!1&&(S.value=!0,n.value.hour!==null&&(n.value.hour-=12,re()))}function Je(){S.value===!0&&(S.value=!1,n.value.hour!==null&&(n.value.hour+=12,re()))}function re(){if(ye.value!==null&&ye.value(n.value.hour)!==!0){n.value=Ne(),y.value="hour";return}if(te.value!==null&&te.value(n.value.minute)!==!0){n.value.minute=null,n.value.second=null,y.value="minute";return}if(e.withSeconds===!0&&ne.value!==null&&ne.value(n.value.second)!==!0){n.value.second=null,y.value="second";return}n.value.hour===null||n.value.minute===null||e.withSeconds===!0&&n.value.second===null||Pe()}function Pe(o){const c=Object.assign({...n.value},o),p=e.calendar==="persian"?Y(c.hour)+":"+Y(c.minute)+(e.withSeconds===!0?":"+Y(c.second):""):ta(new Date(c.year,c.month===null?null:c.month-1,c.day,c.hour,c.minute,c.second,c.millisecond),I.value,O.value,c.year,c.timezoneOffset);c.changed=p!==e.modelValue,s("update:modelValue",p,c)}function Ge(){const o=[h("div",{class:"q-time__link "+(y.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:D.value,onClick:K.hour,onKeyup:X},ae.value.hour),h("div",":"),h("div",ge.value===!0?{class:"q-time__link "+(y.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:D.value,onKeyup:nt,onClick:K.minute}:{class:"q-time__link"},ae.value.minute)];e.withSeconds===!0&&o.push(h("div",":"),h("div",R.value===!0?{class:"q-time__link "+(y.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:D.value,onKeyup:lt,onClick:K.second}:{class:"q-time__link"},ae.value.second));const c=[h("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},o)];return z.value===!1&&c.push(h("div",{class:"q-time__header-ampm column items-between no-wrap"},[h("div",{class:"q-time__link "+(S.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:D.value,onClick:We,onKeyup:Fe},"AM"),h("div",{class:"q-time__link "+(S.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:D.value,onClick:Je,onKeyup:Se},"PM")])),h("div",{class:"q-time__header flex flex-center no-wrap "+d.value},c)}function Qe(){const o=n.value[y.value];return h("div",{class:"q-time__content col relative-position"},[h(Oe,{name:"q-transition--scale"},()=>h("div",{key:"clock"+y.value,class:"q-time__container-parent absolute-full"},[h("div",{ref:B,class:"q-time__container-child fit overflow-hidden"},[vt(h("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Ue,onMousedown:Me},[h("div",{class:"q-time__clock-circle fit"},[h("div",{class:"q-time__clock-pointer"+(n.value[y.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:$e.value}),pe.value.map(c=>h("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${c.index}`+(c.val===o?" q-time__clock-position--active "+d.value:c.disable===!0?" q-time__clock-position--disable":"")},[h("span",c.label)]))])]),je.value)])])),e.nowBtn===!0?h(G,{class:"q-time__now-button absolute",icon:v.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:D.value,onClick:ce}):null])}return i.proxy.setNow=ce,()=>{const o=[Qe()],c=Bt(u.default);return c!==void 0&&o.push(h("div",{class:"q-time__actions"},c)),e.name!==void 0&&e.disable!==!0&&w(o,"push"),h("div",{class:he.value,tabindex:-1},[Ge(),h("div",{class:"q-time__main col overflow-auto"},o)])}}});function jt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const u=parseInt(e,10);return isNaN(u)?0:u}var At=va({name:"close-popup",beforeMount(e,{value:u}){const s={depth:jt(u),handler(i){s.depth!==0&&setTimeout(()=>{const v=fa(e);v!==void 0&&ma(v,i,s.depth)})},handlerKey(i){ha(i,13)===!0&&s.handler(i)}};e.__qclosepopup=s,e.addEventListener("click",s.handler),e.addEventListener("keyup",s.handlerKey)},updated(e,{value:u,oldValue:s}){u!==s&&(e.__qclosepopup.depth=jt(u))},beforeUnmount(e){const u=e.__qclosepopup;e.removeEventListener("click",u.handler),e.removeEventListener("keyup",u.handlerKey),delete e.__qclosepopup}});const Lt={__name:"CitySelect",props:{cityList:Array,cLabel:String},emits:["onSelect"],setup(e,{emit:u}){const s=e,i=T("Input"),v=ga("selectOptionsStyle"),r=T([...s.cityList]),D=T();function d(_,x,f){if(_===""){x(()=>{r.value=[...s.cityList]});return}x(()=>{const w=_.toLowerCase();let L=[...s.cityList];_&&(L=[...L].filter(Q=>Q.name.toLowerCase().indexOf(w)>-1)),r.value=L})}return(_,x)=>(Ve(),ft($a,{options:r.value,borderless:"","option-value":"kladrId","option-label":"name","map-options":"",class:Ma(i.value),onFocus:x[0]||(x[0]=f=>i.value="Input InputActive"),onBlur:x[1]||(x[1]=f=>i.value="Input"),"popup-content-style":ba(v),clearable:"","fill-input":"","hide-selected":"",label:e.cLabel,"use-input":"","input-debounce":0,onFilter:d,modelValue:D.value,"onUpdate:modelValue":[x[2]||(x[2]=f=>D.value=f),x[3]||(x[3]=f=>u("onSelect",D.value))],"emit-value":""},{option:P(f=>[$(ht,ya(_a(f.itemProps)),{default:P(()=>[$(mt,null,{default:P(()=>[$(Te,null,{default:P(()=>[Be(Ke(f.opt.name),1)]),_:2},1024),$(Te,{caption:""},{default:P(()=>[Be(Ke(f.opt.address),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["options","class","popup-content-style","label","modelValue"]))}};const Ja=e=>(xa("data-v-d0b67138"),e=e(),Sa(),e),Ga={class:"WindowArea column"},en={class:"navigator",ref:"navigatorRef"},tn={class:"row items-center justify-end"},an={class:"row items-center justify-end"},nn={class:"ItemArea"},ln=Ja(()=>ie("span",{style:{color:"red"}},"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u0447\u0443\u0434\u043E\u0432\u0438\u0449\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430",-1)),un={__name:"DeliveryPage",setup(e){const u=String("https://api.delivery.demo.symphograph.ru/"),s=ja(),i=T([]),v=T([]),r=T("5500000100000"),D=T("5400000100000");wt("sourceKladr",r),wt("targetKladr",D),T(0);const d=T(!1),_=b(()=>!r.value||!D.value||r.value===D.value),x=T(!1),f=T(!1),w=T("2023-09-26 17:45"),L=T(2);function Q(){return x.value||f.value}function B(){f.value=!0,St.get(u+"api/city.php",{params:{method:"list"}}).then(V=>{var y,n,S;if(!((y=V==null?void 0:V.data)!=null&&y.result))throw new Error;i.value=(S=(n=V==null?void 0:V.data)==null?void 0:n.data)!=null?S:[]}).catch(V=>{s.notify(Ct(V))}).finally(()=>{f.value=!1})}function I(V){r.value=V}function O(V){D.value=V}function we(){_.value||(f.value=!0,St.get(u+"api/delivery.php",{params:{method:"list",type:d.value?"fast":"slow",weight:L.value,sourceKladr:r.value,targetKladr:D.value,startedAt:w.value}}).then(V=>{var y,n,S;if(!((y=V==null?void 0:V.data)!=null&&y.result))throw new Error;v.value=(S=(n=V==null?void 0:V.data)==null?void 0:n.data)!=null?S:[]}).catch(V=>{s.notify(Ct(V))}).finally(()=>{f.value=!1}))}return wa(()=>{B()}),(V,y)=>(Ve(),it("div",Ga,[ie("div",en,[ie("div",null,[$(Lt,{cityList:i.value,cLabel:"\u041E\u0442\u043A\u0443\u0434\u0430",onOnSelect:y[0]||(y[0]=n=>I(n))},null,8,["cityList"]),$(Lt,{cityList:i.value,cLabel:"\u041A\u0443\u0434\u0430",onOnSelect:y[1]||(y[1]=n=>O(n))},null,8,["cityList"])]),ie("div",null,[ie("div",null,[$(pt,{type:"number",label:"\u0432\u0435\u0441",min:"1",suffix:"\u043A\u0433",class:"Input",borderless:"",modelValue:L.value,"onUpdate:modelValue":y[2]||(y[2]=n=>L.value=n)},null,8,["modelValue"]),$(pa,{label:"\u0411\u044B\u0441\u0442\u0440\u0430\u044F","model-value":d.value,onClick:y[3]||(y[3]=n=>d.value=!d.value),disable:_.value},null,8,["model-value","disable"])])]),ie("div",null,[$(pt,{modelValue:w.value,"onUpdate:modelValue":y[6]||(y[6]=n=>w.value=n),class:"Input",borderless:""},{prepend:P(()=>[$(kt,{name:"event",class:"cursor-pointer"},{default:P(()=>[$($t,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:P(()=>[$(Ra,{modelValue:w.value,"onUpdate:modelValue":y[4]||(y[4]=n=>w.value=n),mask:"YYYY-MM-DD HH:mm"},{default:P(()=>[ie("div",tn,[vt($(G,{label:"Close",color:"primary",flat:""},null,512),[[At]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:P(()=>[$(kt,{name:"access_time",class:"cursor-pointer"},{default:P(()=>[$($t,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:P(()=>[$(Wa,{modelValue:w.value,"onUpdate:modelValue":y[5]||(y[5]=n=>w.value=n),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:P(()=>[ie("div",an,[vt($(G,{label:"Close",color:"primary",flat:""},null,512),[[At]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),$(G,{icon:"update",class:"Input",flat:"",disable:_.value,label:"\u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044C",onClick:y[7]||(y[7]=n=>we())},null,8,["disable"])])],512),$(Oa,{"animation-speed":200,color:"green",indeterminate:Q()},null,8,["indeterminate"]),$(Ta,{class:"col myScrollArea"},{default:P(()=>[ie("div",nn,[$(Va,{separator:""},{default:P(()=>[(Ve(!0),it(xt,null,ka(v.value,(n,S)=>(Ve(),it(xt,{key:S},[n.error?(Ve(),ft(ht,{key:1},{default:P(()=>[$(mt,null,{default:P(()=>[$(Te,null,{default:P(()=>[ln]),_:1}),$(Te,{caption:""},{default:P(()=>[Be("\u0414\u0430\u043D\u043D\u044B\u0435 \u044D\u0442\u043E\u0439 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438 \u043D\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043B\u0438\u0441\u044C")]),_:1})]),_:1})]),_:1})):(Ve(),ft(ht,{key:0},{default:P(()=>[$(mt,null,{default:P(()=>[$(Te,null,{default:P(()=>{var he,ae;return[Be(Ke((ae=(he=n==null?void 0:n.company)==null?void 0:he.name)!=null?ae:"kjk"),1)]}),_:2},1024),$(Te,{caption:""},{default:P(()=>[Be(" \u0414\u043E\u0441\u0442\u0430\u0432\u0438\u0442: "+Ke(n==null?void 0:n.deliveredAt)+" \u0437\u0430 "+Ke(n.price)+".\u0440 ",1)]),_:2},1024)]),_:2},1024)]),_:2},1024))],64))),128))]),_:1})])]),_:1})]))}};var pn=Da(un,[["__scopeId","data-v-d0b67138"]]);export{pn as default};
