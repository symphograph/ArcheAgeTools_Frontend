import{Q as l,a as o,b as m}from"./position-engine.a34c8035.js";import{av as S,i as k,r as T,o as $,s as u,t as d,a5 as z,f as a,X as t,$ as s,a3 as g,Z as n,_ as i,b6 as Q,b7 as p,F as _,a4 as b,v as C,ae as I,l as M,a$ as w}from"./index.5175d5c0.js";import{Q as A}from"./QList.a850d90c.js";import{Q as V}from"./QImg.1679b30e.js";import{Q as E}from"./QScrollArea.fe94460b.js";import{f as F,c as j,n as q}from"./myFuncts.80e53bd5.js";import{I as x}from"./ItemIcon.8bf8c544.js";import{u as P}from"./use-quasar.0c941a1e.js";import{_ as U}from"./NickInput.4b46ee6d.js";import{api as X}from"./axios.c53f7cff.js";import{u as Z}from"./use-meta.44c0b124.js";import"./selection.50e195ba.js";import"./QScrollObserver.cf12e2de.js";import"./TouchPan.f946615c.js";import"./format.865294d5.js";const G={class:"navigator"},H={__name:"AccountArea",setup(D){const y=P(),f=String("https://auth.symphograph.ru/"),c=k("curAccount"),B=k("AccountList"),v=T([]);function L(r){console.log("unlink",r)}function N(){X.post(f+"api/device.php",{params:{method:"otherList"}}).then(r=>{var h,e;if(!((h=r==null?void 0:r.data)!=null&&h.result))throw new Error;v.value=(e=r.data.data)!=null?e:[]}).catch(r=>{v.value=[],y.notify(q(r))})}return $(()=>{N()}),(r,h)=>(u(),d(_,null,[z("div",G,[a(m,null,{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(x,{locIcon:s(f)+s(c).Avatar.src,grade:1,size:"70px"},null,8,["locIcon"])]),_:1}),a(l,null,{default:t(()=>[a(o,null,{default:t(()=>[a(g,{name:"img:/img/auth/"+s(c).authType+".svg"},null,8,["name"]),n(" "+i(s(c).nickName),1)]),_:1}),a(U)]),_:1})]),_:1})]),a(E,{class:"col myScrollArea"},{default:t(()=>[a(Q,{class:"MyCard"},{default:t(()=>[a(p,null,{default:t(()=>[a(m,null,{default:t(()=>[a(l,null,{default:t(()=>[n(" \u0410\u043A\u043A\u0430\u0443\u043D\u0442\u044B, \u0441\u0432\u044F\u0437\u0430\u043D\u043D\u044B\u0435 \u0441 \u044D\u0442\u0438\u043C \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043E\u043C \u043D\u0430 \u044D\u0442\u043E\u043C \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0435. ")]),_:1})]),_:1})]),_:1}),a(p,null,{default:t(()=>[a(A,null,{default:t(()=>[(u(!0),d(_,null,b(s(B),e=>(u(),d(_,{key:e},[e.id!==s(c).id&&e.authType!=="default"?(u(),C(m,{key:0,clickable:""},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(x,{locIcon:s(f)+e.Avatar.src,grade:1,size:"70px"},null,8,["locIcon"])]),_:2},1024),a(l,null,{default:t(()=>[a(o,{caption:""},{default:t(()=>[a(g,{size:"1.5em",name:"img:/img/auth/"+e.authType+".svg"},null,8,["name"]),n(" "+i(s(F)(e.visitedAt)),1)]),_:2},1024),a(o,null,{default:t(()=>[n(i(e.settings.nickName),1)]),_:2},1024),a(o,null,{default:t(()=>[n(i(e.settings.publicNick),1)]),_:2},1024)]),_:2},1024),a(l,{side:""},{default:t(()=>[a(I,{label:"\u041E\u0442\u0432\u044F\u0437\u0430\u0442\u044C",class:"DefBtn",onClick:K=>L(e.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):M("",!0)],64))),128)),a(w)]),_:1})]),_:1})]),_:1}),a(Q,{class:"MyCard"},{default:t(()=>[a(p,null,{default:t(()=>[a(m,null,{default:t(()=>[a(l,null,{default:t(()=>[n(" \u0421\u0435\u0441\u0441\u0438\u0438 \u043D\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430\u0445. ")]),_:1})]),_:1})]),_:1}),a(p,null,{default:t(()=>[a(A,null,{default:t(()=>[(u(!0),d(_,null,b(v.value,e=>(u(),d(_,{key:e.marker},[a(m,{style:{padding:"2em 0"}},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(g,{size:"2em",name:e.ismobiledevice?"smartphone":"ion-desktop"},null,8,["name"])]),_:2},1024),a(l,{avatar:""},{default:t(()=>[a(V,{src:"/img/browser/"+e.browser+".svg",width:"2em"},null,8,["src"])]),_:2},1024),a(l,null,{default:t(()=>[a(o,{caption:""},{default:t(()=>[n(i(s(j)(e.visitedAt)),1)]),_:2},1024),a(o,{caption:""},{default:t(()=>[n(i(e.platform),1)]),_:2},1024)]),_:2},1024),a(l,{side:""},{default:t(()=>[a(I,{label:"\u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C",class:"DefBtn"})]),_:1})]),_:2},1024),a(w)],64))),128))]),_:1})]),_:1})]),_:1})]),_:1})],64))}};var J=S(H,[["__scopeId","data-v-583e8ab4"]]);const ma={__name:"AccountsPage",setup(D){return Z({title:"\u0410\u043A\u043A\u0430\u0443\u043D\u0442\u044B",meta:{viewport:{name:"viewport",content:"initial-scale=0.6,width=device-width, user-scalable=yes"}}}),(f,c)=>(u(),C(J))}};export{ma as default};
