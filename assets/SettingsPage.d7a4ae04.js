import{i as I,O as J,ag as we,r as y,c as S,S as qe,o as Y,U as Ae,aG as Te,h as q,ab as U,aQ as $e,a8 as Be,a3 as ce,aj as Ve,g as ne,aL as Qe,a_ as Le,H as re,aS as Re,B as N,y as Ee,aT as Me,ar as W,aU as ee,aV as de,aq as te,w as Ne,n as Ue,at as De,bg as Oe,I as oe,bh as Ke,K as Fe,M as Ge,V as We,s as C,v as B,X as g,f as b,a1 as he,a6 as ye,Z as j,_ as ie,a5 as le,$ as k,ba as Pe,av as Z,t as E,F as se,a4 as xe,m as je,l as D,bb as ze,ae as ve,p as Xe}from"./index.5175d5c0.js";import{Q as He}from"./QTabs.475cf5e5.js";import{g as pe,s as fe}from"./TouchPan.f946615c.js";import{c as Ye}from"./selection.50e195ba.js";import{u as Ze}from"./use-cache.b0833c75.js";import{Q as Je}from"./QScrollArea.fe94460b.js";import{api as O}from"./axios.c53f7cff.js";import{u as et}from"./use-meta.44c0b124.js";import{u as M}from"./use-quasar.0c941a1e.js";import{_ as tt}from"./NickInput.4b46ee6d.js";import{_ as at}from"./ServerGroupSelect.7c031498.js";import{b as ue,Q as z,a as X}from"./position-engine.a34c8035.js";import{Q as ke}from"./QSelect.3b931d71.js";import{b as H,n as K}from"./myFuncts.80e53bd5.js";import{I as ae,Q as me}from"./ItemIcon.8bf8c544.js";import{_ as nt}from"./DelBtn.5d74d291.js";import{a as rt}from"./price.bcd716c8.js";import"./QScrollObserver.cf12e2de.js";import"./format.865294d5.js";import"./QMenu.12801ee8.js";import"./DialogWindow.f49fa4b8.js";let ot=0;const it=["click","keydown"],lt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${ot++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function st(e,o,s,i){const a=I(we,J);if(a===J)return console.error("QTab/QRouteTab component needs to be child of QTabs"),J;const{proxy:t}=ne(),n=y(null),l=y(null),d=y(null),v=S(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),r=S(()=>a.currentModel.value===e.name),f=S(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),c=S(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),w=S(()=>e.disable===!0||a.hasFocus.value===!0||r.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function m(p,x){if(x!==!0&&n.value!==null&&n.value.focus(),e.disable===!0){i!==void 0&&i.hasRouterLink.value===!0&&U(p);return}if(i===void 0){a.updateModel({name:e.name}),s("click",p);return}if(i.hasRouterLink.value===!0){const V=(T={})=>{let $;const F=T.to===void 0||Qe(T.to,e.to)===!0?a.avoidRouteWatcher=Le():null;return i.navigateToRouterLink(p,{...T,returnRouterError:!0}).catch(L=>{$=L}).then(L=>{if(F===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,$===void 0&&(L===void 0||L.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),T.returnRouterError===!0)return $!==void 0?Promise.reject($):L})};s("click",p,V),p.defaultPrevented!==!0&&V();return}s("click",p)}function _(p){$e(p,[13,32])?m(p,!0):Be(p)!==!0&&p.keyCode>=35&&p.keyCode<=40&&p.altKey!==!0&&p.metaKey!==!0&&a.onKbdNavigate(p.keyCode,t.$el)===!0&&U(p),s("keydown",p)}function P(){const p=a.tabProps.value.narrowIndicator,x=[],V=q("div",{ref:d,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&x.push(q(ce,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&x.push(q("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&x.push(e.alertIcon!==void 0?q(ce,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):q("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),p===!0&&x.push(V);const T=[q("div",{class:"q-focus-helper",tabindex:-1,ref:n}),q("div",{class:c.value},Ve(o.default,x))];return p===!1&&T.push(V),T}const A={name:S(()=>e.name),rootRef:l,tabIndicatorRef:d,routeData:i};qe(()=>{a.unregisterTab(A)}),Y(()=>{a.registerTab(A)});function R(p,x){const V={ref:l,class:f.value,tabindex:w.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:m,onKeydown:_,...x};return Ae(q(p,V,P()),[[Te,v.value]])}return{renderTab:R,$tabs:a}}var be=re({name:"QTab",props:lt,emits:it,setup(e,{slots:o,emit:s}){const{renderTab:i}=st(e,o,s);return()=>i("div")}});function ut(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((s,i)=>{const a=parseFloat(s);a&&(o[i]=a)}),o}var ct=Re({name:"touch-swipe",beforeMount(e,{value:o,arg:s,modifiers:i}){if(i.mouse!==!0&&N.has.touch!==!0)return;const a=i.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:ut(s),direction:pe(i),noop:Ee,mouseStart(n){fe(n,t)&&Me(n)&&(W(t,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(n,!0))},touchStart(n){if(fe(n,t)){const l=n.target;W(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),t.start(n)}},start(n,l){N.is.firefox===!0&&ee(e,!0);const d=de(n);t.event={x:d.left,y:d.top,time:Date.now(),mouse:l===!0,dir:!1}},move(n){if(t.event===void 0)return;if(t.event.dir!==!1){U(n);return}const l=Date.now()-t.event.time;if(l===0)return;const d=de(n),v=d.left-t.event.x,r=Math.abs(v),f=d.top-t.event.y,c=Math.abs(f);if(t.event.mouse!==!0){if(r<t.sensitivity[1]&&c<t.sensitivity[1]){t.end(n);return}}else if(window.getSelection().toString()!==""){t.end(n);return}else if(r<t.sensitivity[2]&&c<t.sensitivity[2])return;const w=r/l,m=c/l;t.direction.vertical===!0&&r<c&&r<100&&m>t.sensitivity[0]&&(t.event.dir=f<0?"up":"down"),t.direction.horizontal===!0&&r>c&&c<100&&w>t.sensitivity[0]&&(t.event.dir=v<0?"left":"right"),t.direction.up===!0&&r<c&&f<0&&r<100&&m>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&r<c&&f>0&&r<100&&m>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&r>c&&v<0&&c<100&&w>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&r>c&&v>0&&c<100&&w>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(U(n),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ye(),t.styleCleanup=_=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const P=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(P,50):P()}),t.handler({evt:n,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:l,distance:{x:r,y:c}})):t.end(n)},end(n){t.event!==void 0&&(te(t,"temp"),N.is.firefox===!0&&ee(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),n!==void 0&&t.event.dir!==!1&&U(n),t.event=void 0)}};if(e.__qtouchswipe=t,i.mouse===!0){const n=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";W(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}N.has.touch===!0&&W(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const s=e.__qtouchswipe;s!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&s.end(),s.handler=o.value),s.direction=pe(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(te(o,"main"),te(o,"temp"),N.is.firefox===!0&&ee(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});const dt={name:{required:!0},disable:Boolean},ge={setup(e,{slots:o}){return()=>q("div",{class:"q-panel scroll",role:"tabpanel"},oe(o.default))}},vt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},pt=["update:modelValue","beforeTransition","transition"];function ft(){const{props:e,emit:o,proxy:s}=ne(),{getCacheWithFn:i}=Ze();let a,t;const n=y(null),l=y(null);function d(u){const h=e.vertical===!0?"up":"left";$((s.$q.lang.rtl===!0?-1:1)*(u.direction===h?1:-1))}const v=S(()=>[[ct,d,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),r=S(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),f=S(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),c=S(()=>`--q-transition-duration: ${e.transitionDuration}ms`),w=S(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),m=S(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),_=S(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Ne(()=>e.modelValue,(u,h)=>{const Q=p(u)===!0?x(u):-1;t!==!0&&T(Q===-1?0:Q<x(h)?-1:1),n.value!==Q&&(n.value=Q,o("beforeTransition",u,h),Ue(()=>{o("transition",u,h)}))});function P(){$(1)}function A(){$(-1)}function R(u){o("update:modelValue",u)}function p(u){return u!=null&&u!==""}function x(u){return a.findIndex(h=>h.props.name===u&&h.props.disable!==""&&h.props.disable!==!0)}function V(){return a.filter(u=>u.props.disable!==""&&u.props.disable!==!0)}function T(u){const h=u!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(u===-1?r.value:f.value):null;l.value!==h&&(l.value=h)}function $(u,h=n.value){let Q=h+u;for(;Q>-1&&Q<a.length;){const G=a[Q];if(G!==void 0&&G.props.disable!==""&&G.props.disable!==!0){T(u),t=!0,o("update:modelValue",G.props.name),setTimeout(()=>{t=!1});return}Q+=u}e.infinite===!0&&a.length!==0&&h!==-1&&h!==a.length&&$(u,u===-1?a.length:-1)}function F(){const u=x(e.modelValue);return n.value!==u&&(n.value=u),!0}function L(){const u=p(e.modelValue)===!0&&F()&&a[n.value];return e.keepAlive===!0?[q(Ke,m.value,[q(_.value===!0?i(w.value,()=>({...ge,name:w.value})):ge,{key:w.value,style:c.value},()=>u)])]:[q("div",{class:"q-panel scroll",style:c.value,key:w.value,role:"tabpanel"},[u])]}function Ce(){if(a.length!==0)return e.animated===!0?[q(De,{name:l.value},L)]:L()}function Se(u){return a=Oe(oe(u.default,[])).filter(h=>h.props!==null&&h.props.slot===void 0&&p(h.props.name)===!0),a.length}function Ie(){return a}return Object.assign(s,{next:P,previous:A,goTo:R}),{panelIndex:n,panelDirectives:v,updatePanelsList:Se,updatePanelIndex:F,getPanelContent:Ce,getEnabledPanels:V,getPanels:Ie,isValidPanelName:p,keepAliveProps:m,needsUniqueKeepAliveWrapper:_,goToPanelByOffset:$,goToPanel:R,nextPanel:P,previousPanel:A}}var _e=re({name:"QTabPanel",props:dt,setup(e,{slots:o}){return()=>q("div",{class:"q-tab-panel",role:"tabpanel"},oe(o.default))}}),mt=re({name:"QTabPanels",props:{...vt,...Fe},emits:pt,setup(e,{slots:o}){const s=ne(),i=Ge(e,s.proxy.$q),{updatePanelsList:a,getPanelContent:t,panelDirectives:n}=ft(),l=S(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(o),We("div",{class:l.value},t(),"pan",e.swipeable,()=>n.value))}});const bt=["innerHTML"],gt={__name:"ModeSelect",emits:["saved"],setup(e,{emit:o}){const s=M(),i=String("https://api.aa.dllib.ru/"),a=I("curAccount"),t=y("Input"),n=I("progress"),l=y([{mode:1,name:"\u0421 \u043C\u0438\u0440\u0443 \u043F\u043E \u043D\u0438\u0442\u043A\u0435",description:"\u041F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u0442 \u0412\u0430\u0448\u0438 \u0446\u0435\u043D\u044B \u0438\u043B\u0438 \u0431\u043E\u043B\u0435\u0435 \u043D\u043E\u0432\u044B\u0435 \u0438\u0437 \u0434\u043E\u0432\u0435\u0440\u0435\u043D\u043D\u044B\u0445.<br>\u0415\u0441\u043B\u0438 \u0438\u0445 \u043D\u0435\u0442, \u0438\u0449\u0435\u0442 \u0443 \u0434\u0440\u0443\u0433\u0438\u0445.<br>\u0421\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0442\u043E\u043B\u044C\u043A\u043E, \u0435\u0441\u043B\u0438 \u043D\u0438\u043A\u0442\u043E \u0438 \u043D\u0438\u043A\u043E\u0433\u0434\u0430 \u043D\u0435 \u0443\u043A\u0430\u0437\u044B\u0432\u0430\u043B \u0446\u0435\u043D\u0443."},{mode:2,name:"\u0414\u043E\u0432\u0435\u0440\u0438\u0435",description:"\u041D\u0435 \u0432\u0438\u0434\u0438\u0442 \u043D\u0438\u0447\u044C\u0438\u0445 \u0446\u0435\u043D, \u043A\u0440\u043E\u043C\u0435 \u0412\u0430\u0448\u0438\u0445 \u0438 \u0442\u0435\u0445, \u043A\u043E\u043C\u0443 \u0412\u044B \u0434\u043E\u0432\u0435\u0440\u044F\u0435\u0442\u0435.<br>\u041F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u0442 \u0431\u043E\u043B\u0435\u0435 \u043D\u043E\u0432\u044B\u0435.<br>\u041E\u0420, \u0420\u0420, \u0427\u0435\u0441\u0442\u044C \u0438 \u043F\u0440\u043E\u0447\u0438\u0435 \u0441\u0443\u0431\u044A\u0435\u043A\u0442\u0438\u0432\u043D\u044B\u0435 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u0442 \u0412\u0430\u0448\u0438 \u043D\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043C\u043E \u043E\u0442 \u0438\u0445 \u043D\u043E\u0432\u0438\u0437\u043D\u044B."},{mode:3,name:"\u0425\u0430\u0440\u0434\u043A\u043E\u0440",description:"\u0412\u0438\u0434\u0438\u0442 \u0442\u043E\u043B\u044C\u043A\u043E \u0412\u0430\u0448\u0438 \u0446\u0435\u043D\u044B.<br>\u0412 \u043B\u044E\u0431\u043E\u0439 \u043D\u0435\u043F\u043E\u043D\u044F\u0442\u043D\u043E\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0431\u0443\u0434\u0435\u0442 \u0441\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044C."}]);function d(){n.value=!0,O.post(i+"api/set/mode.php",{params:{mode:a.value.settings.mode}}).then(v=>{var r;if(!((r=v==null?void 0:v.data)!=null&&r.result))throw new Error;s.notify(H(v.data.result)),o("saved")}).catch(v=>{s.notify(K(v))}).finally(()=>{n.value=!1})}return(v,r)=>(C(),B(ke,{modelValue:k(a).settings.mode,"onUpdate:modelValue":[r[0]||(r[0]=f=>k(a).settings.mode=f),r[3]||(r[3]=f=>d())],options:l.value,borderless:"","option-value":"mode","option-label":"name","options-html":"","popup-content-style":{backgroundColor:"rgb(181 238 8 / 93%)",color:"#4B3A23"},onFocus:r[1]||(r[1]=f=>t.value="Input InputActive"),onBlur:r[2]||(r[2]=f=>t.value="Input"),class:Pe(t.value),label:"\u0420\u0435\u0436\u0438\u043C \u0432\u0438\u0434\u0438\u043C\u043E\u0441\u0442\u0438 \u0446\u0435\u043D","map-options":"","emit-value":""},{option:g(f=>[b(ue,he(ye(f.itemProps)),{default:g(()=>[b(z,null,{default:g(()=>[b(X,null,{default:g(()=>[j(ie(f.opt.name),1)]),_:2},1024),b(X,{caption:""},{default:g(()=>[le("div",{innerHTML:f.opt.description},null,8,bt)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","popup-content-style","class"]))}};const _t={__name:"AccountSets",emits:["saved"],setup(e,{emit:o}){M(),I("progress");const s=I("curAccount"),i=y();function a(){i.value.saveServerGroup()}return(t,n)=>(C(),E(se,null,[b(tt),b(at,{groupId:k(s).settings.serverGroupId,onOnSelect:n[0]||(n[0]=l=>a()),onOnSave:n[1]||(n[1]=l=>o("saved")),ref_key:"refServerGroupSelect",ref:i},null,8,["groupId"]),b(gt,{onSaved:n[2]||(n[2]=l=>o("saved"))})],64))}};var ht=Z(_t,[["__scopeId","data-v-61be8ddf"]]);const yt={__name:"ProfSelect",props:{prof:y(null)},setup(e){const o=e,s=M(),i=String("https://api.aa.dllib.ru/");y(1);const a=I("ProfLvls"),t=y(null),n=y("Input"),l=I("curAccount"),d=I("selectOptionsStyle");function v(){t.value.blur(),O.post(i+"api/set/prof.php",{params:{profId:o.prof.id,lvl:l.value.settings.Profs.find(r=>r.id===o.prof.id).lvl}}).then(r=>{var f;if(!((f=r==null?void 0:r.data)!=null&&f.result))throw new Error;s.notify(H())}).catch(r=>{s.notify(K(r))})}return(r,f)=>(C(),B(ke,{label:e.prof.name,class:Pe(n.value),options:k(a),"option-value":"lvl",modelValue:k(l).settings.Profs.find(c=>c.id===e.prof.id).lvl,"onUpdate:modelValue":[f[0]||(f[0]=c=>k(l).settings.Profs.find(w=>w.id===e.prof.id).lvl=c),v],"map-options":"","emit-value":"",borderless:"",ref_key:"profRef",ref:t,"popup-content-style":k(d)},{prepend:g(()=>[b(ae,{"loc-icon":"/img/profs/"+e.prof.id+".png",grade:k(l).settings.Profs.find(c=>c.id===e.prof.id).lvl},null,8,["loc-icon","grade"])]),option:g(c=>[b(ue,he(ye(c.itemProps)),{default:g(()=>[b(z,{avatar:""},{default:g(()=>[b(ae,{"loc-icon":"/img/profs/"+e.prof.id+".png",grade:c.opt.lvl},null,8,["loc-icon","grade"])]),_:2},1024),b(z,null,{default:g(()=>[b(X,null,{default:g(()=>[j(ie(c.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["label","class","options","modelValue","popup-content-style"]))}};const Pt={class:"ProfList"},xt={__name:"ProfList",setup(e){const o=I("curAccount");return(s,i)=>(C(),E("div",Pt,[(C(!0),E(se,null,xe(k(o).settings.Profs,a=>(C(),B(yt,{key:a.id,prof:a},null,8,["prof"]))),128))]))}};var kt=Z(xt,[["__scopeId","data-v-7f713b21"]]);const Ct={class:"PriceLabel"},St={__name:"BasedPriceItem",props:{price:y(null)},emits:["delPrice"],setup(e,{emit:o}){const s=e,i=M(),a=String("https://api.aa.dllib.ru/"),t=je(),n=I("curAccount"),l=y(s.price),d=y(null),v=y(!1),r=I("disable");function f(m){t.push({path:"/item/"+m})}function c(){O.post(a+"api/price.php",{params:{method:"del",itemId:s.price.itemId}}).then(m=>{var _,P,A;if(!((_=m==null?void 0:m.data)!=null&&_.result))throw new Error;i.notify(H((A=(P=m==null?void 0:m.data)==null?void 0:P.result)!=null?A:"\u041E\u0439!"))}).catch(m=>{i.notify(K(m))})}function w(){d.value.blur(),O.post(a+"api/price.php",{params:{method:"set",price:l.value.price,itemId:s.price.itemId}}).then(m=>{var _,P,A,R,p,x;if(!((_=m==null?void 0:m.data)!=null&&_.result))throw new Error;i.notify(H()),l.value.accountId=(A=(P=n==null?void 0:n.value)==null?void 0:P.id)!=null?A:0,l.value.author=(x=(p=(R=n.value)==null?void 0:R.settings)==null?void 0:p.publicNick)!=null?x:"Error",l.value.method="bySolo"}).catch(m=>{i.notify(K(m))})}return Y(()=>{}),(m,_)=>(C(),B(ue,{dense:"",class:"PriceCell"},{default:g(()=>[b(z,null,{default:g(()=>[b(X,{lines:1},{default:g(()=>[le("div",Ct,ie(e.price.name),1)]),_:1}),k(r)?(C(),B(me,{key:0},{default:g(()=>[j("\u0421\u0435\u0440\u0432\u0435\u0440 \u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D")]),_:1})):D("",!0),b(ze,{mask:"## ## ##",class:"PriceInput",dense:"",filled:"",borderless:"",disable:!!k(r),"label-color":k(rt)(e.price.method),"stack-label":"",label:e.price.accountId===1?"\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E":e.price.author,"reverse-fill-mask":"",ref_key:"priceRef",ref:d,modelValue:l.value.price,"onUpdate:modelValue":_[1]||(_[1]=P=>l.value.price=P),onFocus:_[2]||(_[2]=P=>v.value=!0),onBlur:_[3]||(_[3]=P=>v.value=!1)},{before:g(()=>[b(ve,{class:"no-padding",dense:"",flat:"",to:"/item/"+e.price.itemId,onClick:_[0]||(_[0]=P=>f(e.price.itemId))},{default:g(()=>[b(ae,{icon:e.price.icon,grade:e.price.grade,"tool-text":e.price.name},null,8,["icon","grade","tool-text"])]),_:1},8,["to"])]),append:g(()=>[v.value?(C(),B(ve,{key:0,label:"Ok",class:"DefBtn",dense:"","no-caps":"",flat:"",onClick:w})):D("",!0)]),after:g(()=>[b(me,null,{default:g(()=>[j("\u0423\u0434\u0430\u043B\u0438\u0442\u044C")]),_:1}),b(nt,{onOnOk:c,disable:e.price.accountId!==k(n).id},null,8,["disable"])]),_:1},8,["disable","label-color","label","modelValue"])]),_:1})]),_:1}))}};var It=Z(St,[["__scopeId","data-v-0c87e1d4"]]);const wt={class:"PricesArea"},qt={__name:"BasedPrices",setup(e,{expose:o}){const s=M(),i=String("https://api.aa.dllib.ru/"),a=I("curAccount");I("progress");const t=S(()=>a.value.settings.serverGroupId===100);Xe("disable",t);const n=y(null);Y(()=>{l()}),o({loadPrices:l});function l(){O.post(i+"/api/price.php",{params:{method:"getBasedList"}}).then(d=>{var v,r,f,c;if(!((v=d==null?void 0:d.data)!=null&&v.result))throw new Error;n.value=(c=(f=(r=d==null?void 0:d.data)==null?void 0:r.data)==null?void 0:f.Prices)!=null?c:[]}).catch(d=>{n.value=[],s.notify(K(d))})}return(d,v)=>(C(),E("div",wt,[(C(!0),E(se,null,xe(n.value,r=>(C(),B(It,{key:r.itemId,price:r},null,8,["price"]))),128))]))}};const At={class:"WindowArea column"},Tt={class:"navigator"},$t={__name:"SettingsPage",setup(e){M();const o=y(null),s=I("curAccount"),i=y("basedPrices"),a=I("progress");return Y(()=>{console.log("AccountPage mounted")}),et({title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",meta:{viewport:{name:"viewport",content:"initial-scale=0.6,width=device-width, user-scalable=yes"}}}),(n,l)=>{var d;return C(),E("div",At,[le("div",Tt,[(d=k(s).settings)!=null&&d.serverGroupId?(C(),B(ht,{key:0})):D("",!0)]),k(s)?(C(),B(Je,{key:0,class:"col"},{default:g(()=>[b(He,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=v=>i.value=v)},{default:g(()=>[b(be,{name:"basedPrices",label:"\u0411\u0430\u0437\u043E\u0432\u044B\u0435 \u0446\u0435\u043D\u044B"}),b(be,{name:"profs",label:"\u041F\u0440\u043E\u0444\u0435\u0441\u0441\u0438\u0438"})]),_:1},8,["modelValue"]),b(mt,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=v=>i.value=v),animated:"",class:"TabPanels"},{default:g(()=>[b(_e,{name:"basedPrices"},{default:g(()=>[k(a)?D("",!0):(C(),B(qt,{key:0,ref_key:"refBasedPrices",ref:o},null,512))]),_:1}),b(_e,{name:"profs"},{default:g(()=>[b(kt)]),_:1})]),_:1},8,["modelValue"])]),_:1})):D("",!0)])}}};var Jt=Z($t,[["__scopeId","data-v-3e882688"]]);export{Jt as default};
