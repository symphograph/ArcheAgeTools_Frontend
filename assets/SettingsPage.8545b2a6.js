import{i as S,a8 as X,r as y,c as k,ab as qe,o as z,b4 as Te,a0 as we,aB as $e,h as A,$ as D,ao as Be,Y as Ve,N as ce,ak as Le,g as te,aG as Qe,aW as Re,S as ae,b6 as Ne,A as M,x as Ee,b7 as Me,aq as G,b8 as J,a_ as de,ar as Z,a7 as De,w as Oe,aR as Ue,bi as Ke,a4 as ne,bj as Ge,U as Fe,V as We,ac as je,n as x,t as w,G as m,f as p,L as Pe,R as ye,H as F,I as oe,P as re,J as h,bd as he,q as N,F as Y,O as xe,a3 as ze,l as O,be as Ye,af as ve,p as He}from"./index.85a18687.js";import{Q as Xe}from"./QTabs.07325512.js";import{g as pe,s as fe}from"./TouchPan.a58a75fc.js";import{c as Je}from"./selection.a1f2ef76.js";import{u as Ze}from"./use-render-cache.3aae9b27.js";import{Q as et}from"./QScrollArea.34a033e9.js";import{api as ie}from"./axios.84dd43a9.js";import{u as tt}from"./use-meta.946c3654.js";import{u as E}from"./use-quasar.bc7896a7.js";import{N as at}from"./NickInput.4a2d6c50.js";import{_ as nt}from"./ServerGroupSelect.5aff6b35.js";import{b as le,Q as W,a as j}from"./position-engine.fab5a7b7.js";import{Q as Ce}from"./QSelect.8eed0032.js";import{a as ke,n as se}from"./myFuncts.325243df.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";import{I as ee,Q as me}from"./ItemIcon.23b1ef6d.js";import{P as ot}from"./prof.4bf0dcea.js";import{_ as rt,P as it}from"./price.82f4515d.js";import{a as lt}from"./price.2525409f.js";import"./QScrollObserver.75ce28c9.js";import"./format.959830d0.js";import"./myAuth.dbe1fc94.js";import"./QMenu.a0aa64e9.js";import"./DialogWindow.aef90c80.js";import"./myAxios.910d7995.js";let st=0;const ut=["click","keydown"],ct={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${st++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function dt(e,r,s,i){const n=S(Te,X);if(n===X)return console.error("QTab/QRouteTab component needs to be child of QTabs"),X;const{proxy:t}=te(),o=y(null),a=y(null),c=y(null),b=k(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),u=k(()=>n.currentModel.value===e.name),v=k(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(u.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),l=k(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),q=k(()=>e.disable===!0||n.hasFocus.value===!0||u.value===!1&&n.hasActiveTab.value===!0?-1:e.tabindex||0);function g(f,I){if(I!==!0&&o.value!==null&&o.value.focus(),e.disable===!0){i!==void 0&&i.hasRouterLink.value===!0&&D(f);return}if(i===void 0){n.updateModel({name:e.name}),s("click",f);return}if(i.hasRouterLink.value===!0){const T=($={})=>{let Q;const R=$.to===void 0||Qe($.to,e.to)===!0?n.avoidRouteWatcher=Re():null;return i.navigateToRouterLink(f,{...$,returnRouterError:!0}).catch(B=>{Q=B}).then(B=>{if(R===n.avoidRouteWatcher&&(n.avoidRouteWatcher=!1,Q===void 0&&(B===void 0||B.message!==void 0&&B.message.startsWith("Avoided redundant navigation")===!0)&&n.updateModel({name:e.name})),$.returnRouterError===!0)return Q!==void 0?Promise.reject(Q):B})};s("click",f,T),f.defaultPrevented!==!0&&T();return}s("click",f)}function _(f){Be(f,[13,32])?g(f,!0):Ve(f)!==!0&&f.keyCode>=35&&f.keyCode<=40&&f.altKey!==!0&&f.metaKey!==!0&&n.onKbdNavigate(f.keyCode,t.$el)===!0&&D(f),s("keydown",f)}function C(){const f=n.tabProps.value.narrowIndicator,I=[],T=A("div",{ref:c,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&I.push(A(ce,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&I.push(A("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&I.push(e.alertIcon!==void 0?A(ce,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):A("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),f===!0&&I.push(T);const $=[A("div",{class:"q-focus-helper",tabindex:-1,ref:o}),A("div",{class:l.value},Le(r.default,I))];return f===!1&&$.push(T),$}const L={name:k(()=>e.name),rootRef:a,tabIndicatorRef:c,routeData:i};qe(()=>{n.unregisterTab(L)}),z(()=>{n.registerTab(L)});function U(f,I){const T={ref:a,class:v.value,tabindex:q.value,role:"tab","aria-selected":u.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:g,onKeydown:_,...I};return we(A(f,T,C()),[[$e,b.value]])}return{renderTab:U,$tabs:n}}var be=ae({name:"QTab",props:ct,emits:ut,setup(e,{slots:r,emit:s}){const{renderTab:i}=dt(e,r,s);return()=>i("div")}});function vt(e){const r=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((s,i)=>{const n=parseFloat(s);n&&(r[i]=n)}),r}var pt=Ne({name:"touch-swipe",beforeMount(e,{value:r,arg:s,modifiers:i}){if(i.mouse!==!0&&M.has.touch!==!0)return;const n=i.mouseCapture===!0?"Capture":"",t={handler:r,sensitivity:vt(s),direction:pe(i),noop:Ee,mouseStart(o){fe(o,t)&&Me(o)&&(G(t,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(o,!0))},touchStart(o){if(fe(o,t)){const a=o.target;G(t,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","notPassiveCapture"],[a,"touchend","end","notPassiveCapture"]]),t.start(o)}},start(o,a){M.is.firefox===!0&&J(e,!0);const c=de(o);t.event={x:c.left,y:c.top,time:Date.now(),mouse:a===!0,dir:!1}},move(o){if(t.event===void 0)return;if(t.event.dir!==!1){D(o);return}const a=Date.now()-t.event.time;if(a===0)return;const c=de(o),b=c.left-t.event.x,u=Math.abs(b),v=c.top-t.event.y,l=Math.abs(v);if(t.event.mouse!==!0){if(u<t.sensitivity[1]&&l<t.sensitivity[1]){t.end(o);return}}else if(window.getSelection().toString()!==""){t.end(o);return}else if(u<t.sensitivity[2]&&l<t.sensitivity[2])return;const q=u/a,g=l/a;t.direction.vertical===!0&&u<l&&u<100&&g>t.sensitivity[0]&&(t.event.dir=v<0?"up":"down"),t.direction.horizontal===!0&&u>l&&l<100&&q>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&u<l&&v<0&&u<100&&g>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&u<l&&v>0&&u<100&&g>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&u>l&&b<0&&l<100&&q>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&u>l&&b>0&&l<100&&q>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(D(o),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Je(),t.styleCleanup=_=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const C=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(C,50):C()}),t.handler({evt:o,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:a,distance:{x:u,y:l}})):t.end(o)},end(o){t.event!==void 0&&(Z(t,"temp"),M.is.firefox===!0&&J(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),o!==void 0&&t.event.dir!==!1&&D(o),t.event=void 0)}};if(e.__qtouchswipe=t,i.mouse===!0){const o=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";G(t,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}M.has.touch===!0&&G(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,r){const s=e.__qtouchswipe;s!==void 0&&(r.oldValue!==r.value&&(typeof r.value!="function"&&s.end(),s.handler=r.value),s.direction=pe(r.modifiers))},beforeUnmount(e){const r=e.__qtouchswipe;r!==void 0&&(Z(r,"main"),Z(r,"temp"),M.is.firefox===!0&&J(e,!1),r.styleCleanup!==void 0&&r.styleCleanup(),delete e.__qtouchswipe)}});const ft={name:{required:!0},disable:Boolean},ge={setup(e,{slots:r}){return()=>A("div",{class:"q-panel scroll",role:"tabpanel"},ne(r.default))}},mt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},bt=["update:modelValue","beforeTransition","transition"];function gt(){const{props:e,emit:r,proxy:s}=te(),{getCache:i}=Ze(),{registerTimeout:n}=De();let t,o;const a=y(null),c=y(null);function b(d){const P=e.vertical===!0?"up":"left";R((s.$q.lang.rtl===!0?-1:1)*(d.direction===P?1:-1))}const u=k(()=>[[pt,b,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=k(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),l=k(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),q=k(()=>`--q-transition-duration: ${e.transitionDuration}ms`),g=k(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),_=k(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),C=k(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Oe(()=>e.modelValue,(d,P)=>{const V=I(d)===!0?T(d):-1;o!==!0&&Q(V===-1?0:V<T(P)?-1:1),a.value!==V&&(a.value=V,r("beforeTransition",d,P),n(()=>{r("transition",d,P)},e.transitionDuration))});function L(){R(1)}function U(){R(-1)}function f(d){r("update:modelValue",d)}function I(d){return d!=null&&d!==""}function T(d){return t.findIndex(P=>P.props.name===d&&P.props.disable!==""&&P.props.disable!==!0)}function $(){return t.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function Q(d){const P=d!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(d===-1?v.value:l.value):null;c.value!==P&&(c.value=P)}function R(d,P=a.value){let V=P+d;for(;V!==-1&&V<t.length;){const K=t[V];if(K!==void 0&&K.props.disable!==""&&K.props.disable!==!0){Q(d),o=!0,r("update:modelValue",K.props.name),setTimeout(()=>{o=!1});return}V+=d}e.infinite===!0&&t.length!==0&&P!==-1&&P!==t.length&&R(d,d===-1?t.length:-1)}function B(){const d=T(e.modelValue);return a.value!==d&&(a.value=d),!0}function ue(){const d=I(e.modelValue)===!0&&B()&&t[a.value];return e.keepAlive===!0?[A(Ge,_.value,[A(C.value===!0?i(g.value,()=>({...ge,name:g.value})):ge,{key:g.value,style:q.value},()=>d)])]:[A("div",{class:"q-panel scroll",style:q.value,key:g.value,role:"tabpanel"},[d])]}function Se(){if(t.length!==0)return e.animated===!0?[A(Ue,{name:c.value},ue)]:ue()}function Ie(d){return t=Ke(ne(d.default,[])).filter(P=>P.props!==null&&P.props.slot===void 0&&I(P.props.name)===!0),t.length}function Ae(){return t}return Object.assign(s,{next:L,previous:U,goTo:f}),{panelIndex:a,panelDirectives:u,updatePanelsList:Ie,updatePanelIndex:B,getPanelContent:Se,getEnabledPanels:$,getPanels:Ae,isValidPanelName:I,keepAliveProps:_,needsUniqueKeepAliveWrapper:C,goToPanelByOffset:R,goToPanel:f,nextPanel:L,previousPanel:U}}var _e=ae({name:"QTabPanel",props:ft,setup(e,{slots:r}){return()=>A("div",{class:"q-tab-panel",role:"tabpanel"},ne(r.default))}}),_t=ae({name:"QTabPanels",props:{...mt,...Fe},emits:bt,setup(e,{slots:r}){const s=te(),i=We(e,s.proxy.$q),{updatePanelsList:n,getPanelContent:t,panelDirectives:o}=gt(),a=k(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(r),je("div",{class:a.value},t(),"pan",e.swipeable,()=>o.value))}});const Pt=["innerHTML"],yt={__name:"ModeSelect",emits:["saved"],setup(e,{emit:r}){const s=E(),i=String("https://aa.dllib.ru/be/"),n=S("curAccount"),t=y("Input"),o=r,a=S("progress"),c=y([{mode:1,name:"\u0421 \u043C\u0438\u0440\u0443 \u043F\u043E \u043D\u0438\u0442\u043A\u0435",description:"\u041F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u0442 \u0412\u0430\u0448\u0438 \u0446\u0435\u043D\u044B \u0438\u043B\u0438 \u0431\u043E\u043B\u0435\u0435 \u043D\u043E\u0432\u044B\u0435 \u0438\u0437 \u0434\u043E\u0432\u0435\u0440\u0435\u043D\u043D\u044B\u0445.<br>\u0415\u0441\u043B\u0438 \u0438\u0445 \u043D\u0435\u0442, \u0438\u0449\u0435\u0442 \u0443 \u0434\u0440\u0443\u0433\u0438\u0445.<br>\u0421\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0442\u043E\u043B\u044C\u043A\u043E, \u0435\u0441\u043B\u0438 \u043D\u0438\u043A\u0442\u043E \u0438 \u043D\u0438\u043A\u043E\u0433\u0434\u0430 \u043D\u0435 \u0443\u043A\u0430\u0437\u044B\u0432\u0430\u043B \u0446\u0435\u043D\u0443."},{mode:2,name:"\u0414\u043E\u0432\u0435\u0440\u0438\u0435",description:"\u041D\u0435 \u0432\u0438\u0434\u0438\u0442 \u043D\u0438\u0447\u044C\u0438\u0445 \u0446\u0435\u043D, \u043A\u0440\u043E\u043C\u0435 \u0412\u0430\u0448\u0438\u0445 \u0438 \u0442\u0435\u0445, \u043A\u043E\u043C\u0443 \u0412\u044B \u0434\u043E\u0432\u0435\u0440\u044F\u0435\u0442\u0435.<br>\u041F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u0442 \u0431\u043E\u043B\u0435\u0435 \u043D\u043E\u0432\u044B\u0435.<br>\u041E\u0420, \u0420\u0420, \u0427\u0435\u0441\u0442\u044C \u0438 \u043F\u0440\u043E\u0447\u0438\u0435 \u0441\u0443\u0431\u044A\u0435\u043A\u0442\u0438\u0432\u043D\u044B\u0435 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u0442 \u0412\u0430\u0448\u0438 \u043D\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043C\u043E \u043E\u0442 \u0438\u0445 \u043D\u043E\u0432\u0438\u0437\u043D\u044B."},{mode:3,name:"\u0425\u0430\u0440\u0434\u043A\u043E\u0440",description:"\u0412\u0438\u0434\u0438\u0442 \u0442\u043E\u043B\u044C\u043A\u043E \u0412\u0430\u0448\u0438 \u0446\u0435\u043D\u044B.<br>\u0412 \u043B\u044E\u0431\u043E\u0439 \u043D\u0435\u043F\u043E\u043D\u044F\u0442\u043D\u043E\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0431\u0443\u0434\u0435\u0442 \u0441\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044C."}]);function b(){a.value=!0,ie.post(i+"api/settings.php",{params:{method:"setMode",mode:n.value.settings.mode}}).then(u=>{var v;if(!((v=u==null?void 0:u.data)!=null&&v.result))throw new Error;s.notify(ke(u.data.result)),o("saved")}).catch(u=>{s.notify(se(u))}).finally(()=>{a.value=!1})}return(u,v)=>(x(),w(Ce,{modelValue:h(n).settings.mode,"onUpdate:modelValue":[v[0]||(v[0]=l=>h(n).settings.mode=l),v[3]||(v[3]=l=>b())],options:c.value,borderless:"","option-value":"mode","option-label":"name","options-html":"",loading:h(a),"popup-content-style":{backgroundColor:"rgb(181 238 8 / 93%)",color:"#4B3A23"},onFocus:v[1]||(v[1]=l=>t.value="Input InputActive"),onBlur:v[2]||(v[2]=l=>t.value="Input"),class:he(t.value),label:"\u0420\u0435\u0436\u0438\u043C \u0432\u0438\u0434\u0438\u043C\u043E\u0441\u0442\u0438 \u0446\u0435\u043D","map-options":"","emit-value":""},{option:m(l=>[p(le,Pe(ye(l.itemProps)),{default:m(()=>[p(W,null,{default:m(()=>[p(j,null,{default:m(()=>[F(oe(l.opt.name),1)]),_:2},1024),p(j,{caption:""},{default:m(()=>[re("div",{innerHTML:l.opt.description},null,8,Pt)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","loading","class"]))}};const ht={__name:"AccountSets",emits:["saved"],setup(e,{emit:r}){E(),S("progress");const s=S("curAccount"),i=r,n=y();function t(){n.value.saveServerGroup()}return(o,a)=>(x(),N(Y,null,[p(at),p(nt,{groupId:h(s).settings.serverGroupId,onOnSelect:a[0]||(a[0]=c=>t()),onOnSave:a[1]||(a[1]=c=>i("saved")),ref_key:"refServerGroupSelect",ref:n},null,8,["groupId"]),p(yt,{onSaved:a[2]||(a[2]=c=>i("saved"))})],64))}};var xt=H(ht,[["__scopeId","data-v-61be8ddf"]]);const Ct={__name:"ProfSelect",props:{prof:y(null)},setup(e){const r=E(),s=y(!1),i=e;y(1);const n=S("ProfLvls"),t=y(null),o=y("Input"),a=S("curAccount"),c=S("selectOptionsStyle");async function b(){t.value.blur(),s.value=!0;const u=a.value.settings.Profs.find(v=>v.id===i.prof.id).lvl;await ot.setLvl(r,i.prof.id,u),s.value=!1}return(u,v)=>(x(),w(Ce,{label:e.prof.name,class:he(o.value),options:h(n),loading:s.value,"option-value":"lvl",modelValue:h(a).settings.Profs.find(l=>l.id===e.prof.id).lvl,"onUpdate:modelValue":[v[0]||(v[0]=l=>h(a).settings.Profs.find(q=>q.id===e.prof.id).lvl=l),b],"map-options":"","emit-value":"",borderless:"",ref_key:"profRef",ref:t,"popup-content-style":h(c)},{prepend:m(()=>[p(ee,{"loc-icon":"/img/profs/"+e.prof.id+".png",grade:h(a).settings.Profs.find(l=>l.id===e.prof.id).lvl},null,8,["loc-icon","grade"])]),option:m(l=>[p(le,Pe(ye(l.itemProps)),{default:m(()=>[p(W,{avatar:""},{default:m(()=>[p(ee,{"loc-icon":"/img/profs/"+e.prof.id+".png",grade:l.opt.lvl},null,8,["loc-icon","grade"])]),_:2},1024),p(W,null,{default:m(()=>[p(j,null,{default:m(()=>[F(oe(l.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["label","class","options","loading","modelValue","popup-content-style"]))}};const kt={class:"ProfList"},St={__name:"ProfList",setup(e){const r=S("curAccount");return(s,i)=>(x(),N("div",kt,[(x(!0),N(Y,null,xe(h(r).settings.Profs,n=>(x(),w(Ct,{key:n.id,prof:n},null,8,["prof"]))),128))]))}};var It=H(St,[["__scopeId","data-v-7f713b21"]]);const At={class:"PriceLabel"},qt={__name:"BasedPriceItem",props:{price:y(null)},emits:["delPrice"],setup(e,{emit:r}){const s=E(),i=String("https://aa.dllib.ru/be/"),n=ze(),t=S("curAccount"),o=e,a=y(o.price),c=y(null),b=y(!1),u=S("disable");function v(g){n.push({path:"/item/"+g})}function l(){ie.post(i+"api/price.php",{params:{method:"del",itemId:o.price.itemId}}).then(g=>{var _,C,L;if(!((_=g==null?void 0:g.data)!=null&&_.result))throw new Error;s.notify(ke((L=(C=g==null?void 0:g.data)==null?void 0:C.result)!=null?L:"\u041E\u0439!"))}).catch(g=>{s.notify(se(g))})}function q(){c.value.blur(),it.set(s,o.price.itemId,a.value.price)}return z(()=>{}),(g,_)=>(x(),w(le,{dense:"",class:"PriceCell"},{default:m(()=>[p(W,null,{default:m(()=>[p(j,{lines:1},{default:m(()=>[re("div",At,oe(e.price.name),1)]),_:1}),h(u)?(x(),w(me,{key:0},{default:m(()=>_[4]||(_[4]=[F("\u0421\u0435\u0440\u0432\u0435\u0440 \u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D")])),_:1})):O("",!0),p(Ye,{mask:"## ## ##",class:"PriceInput",dense:"",filled:"",borderless:"",disable:!!h(u),"label-color":h(lt)(e.price.method),"stack-label":"",label:e.price.accountId===1?"\u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E":e.price.author,"reverse-fill-mask":"",ref_key:"priceRef",ref:c,modelValue:a.value.price,"onUpdate:modelValue":_[1]||(_[1]=C=>a.value.price=C),onFocus:_[2]||(_[2]=C=>b.value=!0),onBlur:_[3]||(_[3]=C=>b.value=!1)},{before:m(()=>[p(ve,{class:"no-padding",dense:"",flat:"",to:"/item/"+e.price.itemId,onClick:_[0]||(_[0]=C=>v(e.price.itemId))},{default:m(()=>[p(ee,{icon:e.price.icon,grade:e.price.grade,"tool-text":e.price.name},null,8,["icon","grade","tool-text"])]),_:1},8,["to"])]),append:m(()=>[b.value?(x(),w(ve,{key:0,label:"Ok",class:"DefBtn",dense:"","no-caps":"",flat:"",onClick:q})):O("",!0)]),after:m(()=>[p(me,null,{default:m(()=>_[5]||(_[5]=[F("\u0423\u0434\u0430\u043B\u0438\u0442\u044C")])),_:1}),p(rt,{onOnOk:l,disable:e.price.accountId!==h(t).id},null,8,["disable"])]),_:1},8,["disable","label-color","label","modelValue"])]),_:1})]),_:1}))}};var Tt=H(qt,[["__scopeId","data-v-0d589f36"]]);const wt={class:"PricesArea"},$t={__name:"BasedPrices",setup(e,{expose:r}){const s=E(),i=String("https://aa.dllib.ru/be/"),n=S("curAccount");S("progress");const t=k(()=>n.value.settings.serverGroupId===100);He("disable",t);const o=y(null);z(()=>{a()}),r({loadPrices:a});function a(){ie.post(i+"/api/price.php",{params:{method:"getBasedList"}}).then(c=>{var b,u,v,l;if(!((b=c==null?void 0:c.data)!=null&&b.result))throw new Error;o.value=(l=(v=(u=c==null?void 0:c.data)==null?void 0:u.data)==null?void 0:v.Prices)!=null?l:[]}).catch(c=>{o.value=[],s.notify(se(c))})}return(c,b)=>(x(),N("div",wt,[(x(!0),N(Y,null,xe(o.value,u=>(x(),w(Tt,{key:u.itemId,price:u},null,8,["price"]))),128))]))}};const Bt={class:"navigator"},Vt={__name:"SettingsPage",setup(e){E();const r=y(null),s=S("curAccount"),i=y("basedPrices"),n=S("progress");return z(()=>{console.log("AccountPage mounted")}),tt({title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",meta:{viewport:{name:"viewport",content:"initial-scale=0.6,width=device-width, user-scalable=yes"}}}),(o,a)=>{var c;return x(),N(Y,null,[re("div",Bt,[(c=h(s).settings)!=null&&c.serverGroupId?(x(),w(xt,{key:0})):O("",!0)]),h(s)?(x(),w(et,{key:0,class:"col"},{default:m(()=>[p(Xe,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=b=>i.value=b)},{default:m(()=>[p(be,{name:"basedPrices",label:"\u0411\u0430\u0437\u043E\u0432\u044B\u0435 \u0446\u0435\u043D\u044B"}),p(be,{name:"profs",label:"\u041F\u0440\u043E\u0444\u0435\u0441\u0441\u0438\u0438"})]),_:1},8,["modelValue"]),p(_t,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=b=>i.value=b),animated:"",class:"TabPanels"},{default:m(()=>[p(_e,{name:"basedPrices"},{default:m(()=>[h(n)?O("",!0):(x(),w($t,{key:0,ref_key:"refBasedPrices",ref:r},null,512))]),_:1}),p(_e,{name:"profs"},{default:m(()=>[p(It)]),_:1})]),_:1},8,["modelValue"])]),_:1})):O("",!0)],64)}}};var ra=H(Vt,[["__scopeId","data-v-50816fb3"]]);export{ra as default};
