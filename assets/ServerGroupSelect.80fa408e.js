import{Q as V,a as i,b as _}from"./position-engine.7a2cb73f.js";import{Q as $}from"./QSelect.c60eb851.js";import{u as w}from"./use-quasar.d7abd3d3.js";import{api as A}from"./axios.8ef9e684.js";import{n as B}from"./myFuncts.f85c9e09.js";import{r as m,i as s,t as C,x as L,Y as a,f as l,_ as v,$ as c,a2 as N,a7 as P,a0 as d,be as k}from"./index.312bfc2c.js";const F={__name:"ServerGroupSelect",props:{groupId:Number},emits:["onSelect","onSave"],setup(f,{expose:S,emit:I}){const r=m(f.groupId),b=w(),g=String("https://api.aa.dllib.ru/"),y=s("curAccount"),n=m("Input"),u=I,p=s("progress"),Q=s("ServerGroupList"),x=s("selectOptionsStyle");S({saveServerGroup:G});function G(){p.value=!0,A.post(g+"api/set/server.php",{params:{serverGroupId:r.value}}).then(o=>{var t;if(!((t=o==null?void 0:o.data)!=null&&t.result))throw new Error;y.value.settings.serverGroupId=r.value,u("onSave")}).catch(o=>{b.notify(B(o))}).finally(()=>{p.value=!1})}return(o,t)=>(C(),L($,{modelValue:r.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>r.value=e),t[3]||(t[3]=e=>u("onSelect",r.value))],options:d(Q),borderless:"","option-value":"id","popup-content-style":d(x),onFocus:t[1]||(t[1]=e=>n.value="Input InputActive"),onBlur:t[2]||(t[2]=e=>n.value="Input"),class:k(n.value),label:"\u0421\u0435\u0440\u0432\u0435\u0440","map-options":"","emit-value":""},{option:a(e=>[l(_,N(P(e.itemProps)),{default:a(()=>[l(V,null,{default:a(()=>[l(i,null,{default:a(()=>[v("\u0413\u0440\u0443\u043F\u043F\u0430 "+c(e.opt.id),1)]),_:2},1024),l(i,{caption:""},{default:a(()=>[v(c(e.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","popup-content-style","class"]))}};export{F as _};
